<!DOCTYPE html>
<html>
  <head>
    <style>
      .lw {
        font-size: 60px;
      }
    </style>
  </head>
  <body style="overflow: auto">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Escaleras Ferre - Suministros Varios</title>

    <!-- Favicon completo -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- EmailJS CDN -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
      (function(){
        emailjs.init("wqyvyZcOIUOPhuERM");
      })();
    </script>

    <style>
      /* Reset básico */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        padding-top: 45px;
      }

      /* Variables CSS */
      :root {
        --color-primary: #2d5016;
        --color-secondary: #1a2e0c;
        --color-accent: #ffa500;
        --color-text: #333333;
        --color-light-gray: #f8f9fa;
        --color-border: #e9ecef;
        --spacing-xs: 0.5rem;
        --spacing-sm: 1rem;
        --spacing-md: 1.5rem;
        --spacing-lg: 2rem;
        --spacing-xl: 3rem;
        --font-heading: "Segoe UI", Arial, sans-serif;
        --shadow-card: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-elevated: 0 8px 25px rgba(0, 0, 0, 0.15);
        --transition-smooth: all 0.3s ease;
        --border-radius-sm: 8px;
        --border-radius-lg: 15px;
      }

      /* WhatsApp Header Bar */
      .whatsapp-header-fixed {
        background: linear-gradient(135deg, #25d366, #1da851);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        padding: 8px 0;
        box-shadow: 0 2px 10px rgba(37, 211, 102, 0.3);
      }

      .whatsapp-container {
        display: flex;
        justify-content: space-between;
        gap: 40px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .whatsapp-link {
        display: flex;
        align-items: center;
        gap: 8px;
        color: white;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        padding: 5px 15px;
        border-radius: 20px;
      }

      .whatsapp-link:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        text-decoration: none;
        transform: scale(1.05);
      }

      .whatsapp-link i {
        font-size: 1.2rem;
      }

      /* Header */
      .header {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        position: fixed;
        top: 45px;
        left: 0;
        right: 0;
        z-index: 1000;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.2rem var(--spacing-sm);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .logo {
        width: 50px;
        height: 50px;
        background: var(--color-primary);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
      }

      /* Logo Grande con Animación Impactante */
      .logo-svg {
        width: 140px;
        height: 140px;
        animation: logoEntrance 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        animation-fill-mode: both;
        object-fit: contain;
        display: block;
        filter: drop-shadow(0 8px 20px rgba(45, 80, 22, 0.4));
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        cursor: pointer;
      }

      .logo-svg:hover {
        transform: scale(1.15) rotate(8deg);
        filter: drop-shadow(0 12px 30px rgba(45, 80, 22, 0.6));
      }

      @keyframes logoEntrance {
        0% {
          opacity: 0;
          transform: translateY(-50px) scale(0.3) rotate(-180deg);
        }
        60% {
          opacity: 1;
          transform: translateY(10px) scale(1.15) rotate(10deg);
        }
        80% {
          transform: translateY(-5px) scale(0.95) rotate(-5deg);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1) rotate(0deg);
        }
      }

      .logo-text {
        font-family: var(--font-heading);
        font-size: 1.8rem;
        font-weight: 800;
        color: var(--color-primary);
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .logo-subtitle {
        font-size: 1rem;
        color: var(--color-accent);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .nav-menu {
        display: flex;
        list-style: none;
        gap: var(--spacing-md);
      }

      .nav-link {
        text-decoration: none;
        color: var(--color-text);
        font-weight: 500;
        transition: var(--transition-smooth);
        padding: 0.5rem;
      }

      .nav-link:hover {
        color: var(--color-primary);
      }

      /* WhatsApp Bar */
      .whatsapp-bar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #25d366;
        color: white;
        padding: 0.5rem 0;
        z-index: 1100;
        text-align: center;
      }

        /* Hero Section */
        .hero {
            position: relative;
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-top: 200px;
        }

        .hero-background-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-background-video::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2d5016, #4a7028);
            z-index: 0;
        }

        .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
            opacity: 0.7;
            will-change: transform;
            backface-visibility: hidden;
            perspective: 1000px;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                135deg,
                rgba(45, 80, 22, 0.8) 0%,
                rgba(45, 80, 22, 0.6) 50%,
                rgba(45, 80, 22, 0.8) 100%
            );
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            color: white;
            padding: 4rem var(--spacing-sm);
            width: 100%;
        }

        .hero-title {
            font-family: var(--font-heading);
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: var(--spacing-xl);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

      /* Hero Section */
      .hero {
        background: linear-gradient(
          135deg,
          var(--color-primary) 0%,
          var(--color-secondary) 100%
        );
        color: white;
        padding: 8rem var(--spacing-sm) 4rem;
        text-align: center;
        margin-top: 200px;
      }

      .hero-title {
        font-family: var(--font-heading);
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: var(--spacing-md);
      }

      /* Hero CTA Buttons */
      .hero-content .cta-primary,
      .hero-content .cta-secondary {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 15px 30px;
        margin: 10px 15px;
        border: 2px solid white;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
      }

      .hero-content .cta-primary i,
      .hero-content .cta-secondary i {
        font-size: 1.2rem;
      }

      .hero-content .cta-primary {
        background: rgba(255, 165, 0, 0.9);
        color: white;
      }

      .hero-content .cta-primary:hover {
        background: rgba(255, 165, 0, 1);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(255, 165, 0, 0.4);
      }

      .hero-content .cta-secondary {
        background: rgba(255, 255, 255, 0.15);
        color: white;
      }

      .hero-content .cta-secondary:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
      }

      /* Sections */
      .section {
        padding: var(--spacing-xl) var(--spacing-sm);
      }

      .section-alt {
        background: var(--color-light-gray);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .section-header {
        text-align: center;
        margin-bottom: var(--spacing-xl);
      }

      .section-title {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--color-primary);
        margin-bottom: var(--spacing-sm);
      }

      .section-subtitle {
        font-size: 1.2rem;
        color: var(--color-text);
        opacity: 0.8;
      }

      /* SPA Catalog */
      .spa-catalog {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: white;
        z-index: 3000;
        transform: translateX(100%);
        transition: transform 0.4s ease-in-out;
        overflow-y: auto;
      }

      .spa-catalog.active {
        transform: translateX(0);
      }

      .spa-header {
        background: var(--color-primary);
        color: white;
        padding: var(--spacing-sm);
        position: sticky;
        top: 0;
        z-index: 3100;
        box-shadow: var(--shadow-elevated);
      }

      .spa-header-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .spa-title {
        font-family: var(--font-heading);
        font-size: 1.5rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .spa-close {
        background: transparent;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: var(--border-radius-sm);
        transition: var(--transition-smooth);
      }

      .spa-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .spa-home-btn {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        font-size: 0.9rem;
        cursor: pointer;
        padding: 0.6rem 1.2rem;
        border-radius: var(--border-radius-sm);
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 500;
        margin-right: 1rem;
      }

      .spa-home-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .spa-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: var(--spacing-md);
      }

      .spa-filters {
        display: flex;
        gap: 1rem;
        margin-bottom: var(--spacing-lg);
        flex-wrap: wrap;
        justify-content: center;
        background: linear-gradient(135deg, #f8f9fa, #ffffff);
        padding: 1.5rem;
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        border: 2px solid rgba(255, 165, 0, 0.1);
      }

      .filter-btn {
        padding: 1rem 1.8rem;
        background: white;
        color: var(--color-primary);
        border: 2px solid #e0e0e0;
        border-radius: 15px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        line-height: 1.6;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
      }

      .filter-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 165, 0, 0.1);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .filter-btn:hover::before {
        width: 300px;
        height: 300px;
      }

      .filter-btn:hover {
        border-color: var(--color-accent);
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 8px 25px rgba(255, 165, 0, 0.25);
      }

      .filter-btn.active {
        background: linear-gradient(135deg, var(--color-accent), #ff8c00);
        color: white;
        border: 3px solid #ffd700;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 165, 0, 0.35);
      }

      .filter-btn.active:hover {
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 12px 30px rgba(255, 165, 0, 0.4);
      }

        .spa-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            padding: 20px;
            align-items: stretch;
        }

      /* Para una sola tarjeta */
      .spa-products-grid.single-item {
        grid-template-columns: 1fr;
        max-width: 600px;
        margin: 0 auto;
      }

      /* Para 2-3 tarjetas */
      .spa-products-grid.few-items {
        grid-template-columns: repeat(auto-fit, minmax(400px, 500px));
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Para 4+ tarjetas */
      .spa-products-grid.many-items {
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      }

      /* Responsive */
      @media (max-width: 768px) {
        .spa-products-grid.single-item,
        .spa-products-grid.few-items,
        .spa-products-grid.many-items {
          grid-template-columns: 1fr;
          max-width: 100%;
          padding: 0 1rem;
        }
      }

      .spa-product-card {
        background: white;
        border-radius: var(--border-radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-card);
        transition: var(--transition-smooth);
        border: 1px solid var(--color-border);
      }

      .spa-product-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-elevated);
      }

      .spa-product-image {
        height: 250px;
        background: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        padding: 0.5rem;
      }

        .spa-product-image {
            height: 250px;
            flex-shrink: 0;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            padding: 0.5rem;
        }

      .spa-product-placeholder {
        color: var(--color-primary);
        font-size: 3rem;
      }

      .spa-product-info {
        padding: var(--spacing-sm);
      }

      .spa-product-name {
        font-family: var(--font-heading);
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--color-primary);
        margin-bottom: 0.5rem;
        line-height: 1.3;
      }

      .spa-product-price {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--color-accent);
        margin-bottom: var(--spacing-xs);
      }

      .spa-product-code {
        font-size: 0.85rem;
        color: var(--color-text);
        margin-bottom: var(--spacing-xs);
        opacity: 0.8;
      }

      .product-technical-details {
        margin: var(--spacing-xs) 0;
        padding: var(--spacing-xs);
        background: var(--color-light-gray);
        border-radius: 8px;
        font-size: 0.8rem;
      }

      .product-detail {
        margin-bottom: 0.25rem;
        color: var(--color-text);
      }

      .product-detail strong {
        color: var(--color-primary);
      }

      .spa-product-actions {
        display: flex;
        gap: 0.5rem;
        margin-top: var(--spacing-sm);
      }

      .spa-product-btn {
        flex: 1;
        padding: 0.75rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.9rem;
        border: none;
        cursor: pointer;
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .btn-whatsapp {
        background: #25d366;
        color: white;
      }

      .btn-whatsapp:hover {
        background: #20b358;
      }

      .btn-cart {
        background: var(--color-primary);
        color: white;
      }

      .btn-cart:hover {
        background: var(--color-secondary);
      }

      /* Tarjetas de producto mejoradas */
      .spa-product-card-new {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 1px solid #e0e0e0;
      }

      .spa-product-card-new:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      /* Mejorar apariencia cuando hay pocas tarjetas */
      .single-item .spa-product-card-new,
      .few-items .spa-product-card-new {
        min-height: 500px;
        display: flex;
        flex-direction: column;
      }

      .single-item .spa-product-image,
      .few-items .spa-product-image {
        height: 250px;
        flex-shrink: 0;
      }

      .single-item .spa-product-info-new,
      .few-items .spa-product-info-new {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      /* Centrar contenido cuando hay pocas tarjetas */
      .single-item,
      .few-items {
        justify-items: center;
      }

      .spa-product-info-new {
        padding: 1.5rem;
      }

      .spa-product-specs {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 1rem;
        line-height: 1.4;
      }

      /* Selector de referencias */
      .references-section {
        margin: 1rem 0;
        padding: 1rem;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid #2d5016;
      }

      .references-section h4 {
        color: #2d5016;
        margin-bottom: 0.75rem;
        font-size: 0.9rem;
      }

      .references-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 0.5rem;
        max-height: 120px;
        overflow-y: auto;
      }

      .reference-option {
        display: block;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .reference-option input[type="radio"] {
        display: none;
      }

      .reference-info {
        display: block;
        padding: 0.5rem;
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        text-align: center;
        font-size: 0.8rem;
        transition: all 0.2s ease;
      }

      .reference-option input[type="radio"]:checked + .reference-info {
        border-color: #2d5016;
        background: rgba(45, 80, 22, 0.1);
      }

      .reference-info:hover {
        border-color: #2d5016;
        transform: scale(1.02);
      }

      /* Sección de accesorios */
      .accessories-section {
        margin: 1rem 0;
        padding: 0.75rem;
        background: rgba(255, 165, 0, 0.1);
        border-radius: 8px;
        font-size: 0.85rem;
      }

      .accessories-list {
        color: #666;
        font-style: italic;
      }

      /* Botones de acción mejorados */
      .spa-product-actions-new {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
        margin-top: 1.5rem;
      }

      .btn-info {
        background: #17a2b8;
        color: white;
      }

      .btn-info:hover {
        background: #138496;
      }

      /* Modal de información técnica */
      .tech-info-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 4000;
      }

      .tech-info-container {
        background: white;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .tech-info-header {
        background: linear-gradient(135deg, #2d5016, #4a7028);
        color: white;
        padding: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .tech-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        transition: background 0.2s;
      }

      .tech-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .tech-info-content {
        padding: 1.5rem;
        max-height: 400px;
        overflow-y: auto;
      }

      .tech-specifications,
      .tech-details {
        margin-bottom: 1.5rem;
      }

      .tech-specifications h4,
      .tech-details h4 {
        color: #2d5016;
        margin-bottom: 0.75rem;
        border-bottom: 2px solid #e0e0e0;
        padding-bottom: 0.5rem;
      }

      .tech-details pre {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 8px;
        white-space: pre-wrap;
        font-family: inherit;
        font-size: 0.9rem;
        line-height: 1.5;
      }

      .tech-close-btn {
        width: 100%;
        background: #2d5016;
        color: white;
        border: none;
        padding: 1rem;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.2s;
      }

      .tech-close-btn:hover {
        background: #1a2e0c;
      }

      /* Responsive para nuevo sistema */
      @media (max-width: 768px) {
        .references-grid {
          grid-template-columns: 1fr 1fr;
        }

        .spa-product-actions-new {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }

        .tech-info-container {
          width: 95%;
          max-height: 90vh;
        }
      }

      /* ===================================
           CHATBOT STYLES - Fixed Position
           =================================== */

      /* Nuevos estilos para catálogo con tabla de referencias */
      .spa-product-card-detailed {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 1px solid #e0e0e0;
        height: 720px !important;
        display: flex;
        flex-direction: column;
      }

      .spa-product-info-detailed {
        padding: 1.5rem;
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
      }

        .product-title {
            color: #2d5016;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
            line-height: 1.3;
        }

        .product-codigo {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

      .spa-product-image {
        height: 250px;
        flex-shrink: 0;
        background: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        padding: 0.5rem;
      }

      .product-img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 8px;
      }

      .referencias-table {
        margin: 15px 0;
        overflow-y: auto;
        max-height: 200px;
        min-height: 120px;
        flex-shrink: 0;
      }

      .referencias-table table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.9rem;
      }

      .referencias-table th {
        background: #2d5016;
        color: white;
        padding: 10px 12px;
        text-align: center;
        font-weight: 600;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .referencias-table td {
        padding: 8px 12px;
        text-align: center;
        border-bottom: 1px solid #eee;
        font-weight: 500;
      }

      .referencias-table tbody tr:nth-child(odd) {
        background: #f8f9fa;
      }

      .referencias-table tbody tr:hover {
        background: rgba(45, 80, 22, 0.05);
      }

      .product-specs {
        background: #f8f9fa;
        padding: 12px 15px;
        border-radius: 8px;
        margin: 12px 0;
        flex-shrink: 0;
      }

      .spec-item {
        margin: 6px 0;
        font-size: 0.9rem;
        color: #333;
      }

      .spec-item strong {
        color: #2d5016;
        margin-right: 5px;
      }

      .product-actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-top: auto;
        padding-top: 15px;
        flex-shrink: 0;
      }

      .btn-consultar,
      .btn-cotizar {
        padding: 12px 15px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 0.95rem;
      }

      .btn-consultar {
        background: #25d366;
        color: white;
      }

      .btn-consultar:hover {
        background: #1da851;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
      }

      .btn-cotizar {
        background: #2d5016;
        color: white;
      }

      .btn-cotizar:hover {
        background: #1a2e0c;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(45, 80, 22, 0.3);
      }

      /* Responsive para tarjetas detalladas */
      /* Responsive - altura uniforme en móviles */
      @media (max-width: 768px) {
        .spa-product-card-detailed {
          height: 680px !important;
        }

        .product-actions {
          grid-template-columns: 1fr;
        }

        .referencias-table {
          margin: 12px 0;
          max-height: 180px;
          min-height: 100px;
          overflow-y: auto;
          flex-shrink: 0;
        }

        .product-title {
          font-size: 1.1rem;
        }

        .product-specs {
          padding: 10px 12px;
          margin: 10px 0;
        }

        .spec-item {
          margin: 5px 0;
          font-size: 0.85rem;
        }
      }
      /* Chatbot Fixed Position - No Intrusivo pero Visible */
      .chatbot-fixed {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
      }

      .chatbot-toggle {
        background: linear-gradient(135deg, #2d5016, #4a7028);
        color: white;
        border-radius: 50px;
        padding: 15px 20px;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(45, 80, 22, 0.3);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        max-width: 200px;
      }

      .chatbot-toggle:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(45, 80, 22, 0.4);
      }

      .chatbot-toggle.active {
        border-radius: 15px;
      }

      .chat-notification {
        font-size: 14px;
        font-weight: 500;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      .chatbot-window {
        position: absolute;
        bottom: 70px;
        right: 0;
        width: 350px;
        height: 450px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        display: none;
        flex-direction: column;
        overflow: hidden;
      }

      .chatbot-window.active {
        display: flex;
        animation: slideUp 0.3s ease;
      }

      @keyframes slideUp {
        from {
          transform: translateY(20px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .chatbot-header {
        background: linear-gradient(135deg, #2d5016, #4a7028);
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .chatbot-title {
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 600;
        font-size: 14px;
      }

      .chatbot-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 2px solid var(--color-accent);
        overflow: hidden;
        flex-shrink: 0;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .chatbot-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .chatbot-close {
        background: transparent;
        color: white;
        border: none;
        font-size: 24px;
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background 0.2s;
      }

      .chatbot-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .chatbot-messages {
        flex: 1;
        overflow-y: auto;
        padding: 15px;
        background: #f8f9fa;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .message {
        padding: 10px 15px;
        border-radius: 15px;
        max-width: 85%;
        animation: fadeIn 0.3s ease;
        line-height: 1.4;
        font-size: 14px;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .user-message {
        background: #2d5016;
        color: white;
        margin-left: auto;
        text-align: right;
        border-bottom-right-radius: 5px;
      }

      .bot-message {
        background: white;
        color: #333;
        border: 1px solid #e0e0e0;
        margin-right: auto;
        border-bottom-left-radius: 5px;
        display: flex;
        align-items: flex-start;
        gap: 10px;
      }

      .bot-message-avatar {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        border: 2px solid var(--color-accent);
        overflow: hidden;
        flex-shrink: 0;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .bot-message-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .bot-message-content {
        flex: 1;
      }

      .typing-indicator {
        background: #e3f2fd !important;
        border-color: #90caf9 !important;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .typing-indicator .dots {
        animation: blink 1.4s infinite;
      }

      @keyframes blink {
        0%,
        20% {
          opacity: 0.2;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.2;
        }
      }

      .contact-options {
        max-width: 100% !important;
        background: #f0f7ed !important;
        border-color: #2d5016 !important;
      }

      .contact-options p {
        margin: 0 0 10px 0;
        font-weight: 600;
      }

      .whatsapp-options {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
      }

      .whatsapp-btn {
        background: #25d366;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.2s;
        font-size: 13px;
        display: flex;
        align-items: center;
        gap: 8px;
        justify-content: center;
      }

      .whatsapp-btn:hover {
        background: #1da851;
        transform: translateY(-2px);
      }

      /* Estilos para selección de sede en chatbot */
      .sede-selection .whatsapp-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
      }

      .whatsapp-btn-sede {
        display: flex;
        align-items: center;
        gap: 15px;
        background: #25d366;
        color: white;
        border: none;
        padding: 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: left;
        width: 100%;
        font-family: inherit;
      }

      .whatsapp-btn-sede:hover {
        background: #1da851;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
      }

      .whatsapp-btn-sede i {
        font-size: 24px;
      }

      .sede-selection .sede-info {
        display: flex;
        flex-direction: column;
        gap: 3px;
      }

      .sede-selection .sede-info strong {
        font-size: 1rem;
        margin-bottom: 3px;
      }

      .sede-selection .sede-info span {
        font-size: 0.85rem;
        opacity: 0.9;
      }

      .chatbot-input-area {
        padding: 15px;
        border-top: 1px solid #e0e0e0;
        background: white;
        display: flex;
        gap: 10px;
      }

      #chatbot-input {
        flex: 1;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 20px;
        font-size: 14px;
        outline: none;
        transition: border-color 0.2s;
      }

      #chatbot-input:focus {
        border-color: #2d5016;
      }

      .chatbot-send-btn {
        background: #2d5016;
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }

      .chatbot-send-btn:hover {
        background: #1a2e0c;
        transform: scale(1.1);
      }

      .quick-questions {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        padding: 10px 15px;
        background: #f1f3f4;
        border-top: 1px solid #e0e0e0;
      }

      .quick-question {
        background: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 12px;
        cursor: pointer;
        border: 1px solid #ddd;
        transition: all 0.2s;
      }

      .quick-question:hover {
        background: #2d5016;
        color: white;
        border-color: #2d5016;
        transform: translateY(-2px);
      }

      /* Responsive Chatbot */
      @media (max-width: 768px) {
        .chatbot-window {
          width: calc(100vw - 40px);
          height: 400px;
        }

        .referencias-table th {
            background: #2d5016;
            color: white;
            padding: 10px 12px;
            text-align: center;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .referencias-table td {
            padding: 8px 12px;
            text-align: center;
            border-bottom: 1px solid #eee;
            font-weight: 500;
        }

        .referencias-table tbody tr:nth-child(odd) {
            background: #f8f9fa;
        }

        .referencias-table tbody tr:hover {
            background: rgba(45, 80, 22, 0.05);
        }

        .product-specs {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            flex-shrink: 0;
        }

        .spec-item {
            margin: 8px 0;
            font-size: 0.95rem;
            color: #333;
        }

        .spec-item strong {
            color: #2d5016;
            margin-right: 5px;
        }

        .product-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: auto;
            padding-top: 15px;
        }

        .btn-consultar,
        .btn-cotizar {
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .btn-consultar {
            background: #25D366;
            color: white;
        }

        .btn-consultar:hover {
            background: #1DA851;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
        }

        .btn-cotizar {
            background: #2d5016;
            color: white;
        }

        .btn-cotizar:hover {
            background: #1a2e0c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 80, 22, 0.3);
        }

        /* Responsive para tarjetas detalladas */
        @media (max-width: 768px) {
            .product-actions {
                grid-template-columns: 1fr;
            }

            .referencias-table {
                max-height: 200px;
            }

            .product-title {
                font-size: 1.1rem;
            }
        }
        /* Chatbot Fixed Position - No Intrusivo pero Visible */
        .chatbot-fixed {
          right: 10px;
          bottom: 10px;
        }

        .chatbot-toggle {
          max-width: 60px;
          padding: 12px;
        }

        .chat-notification {
          display: none;
        }
      }

      /* Services Grid */
      .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--spacing-lg);
        margin-top: var(--spacing-xl);
      }

      .service-card {
        background: white;
        padding: var(--spacing-lg);
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-card);
        text-align: center;
        transition: var(--transition-smooth);
      }

      .service-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-elevated);
      }

      .service-icon {
        display: none; /* Ocultar iconos, ahora usamos imágenes */
      }

      .service-image,
      .about-image {
        height: 200px;
        overflow: hidden;
        border-radius: 12px;
        margin-bottom: 1rem;
      }

      .service-img,
      .section-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .service-title {
        font-family: var(--font-heading);
        font-size: 1.3rem;
        color: var(--color-primary);
        margin-bottom: var(--spacing-sm);
      }

      .service-description {
        color: var(--color-text);
        margin-bottom: var(--spacing-md);
        line-height: 1.6;
      }

      .service-btn {
        background: var(--color-accent);
        color: var(--color-primary);
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: var(--border-radius-lg);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
      }

      .service-btn:hover {
        background: #ff8c00;
        transform: translateY(-2px);
      }

      /* About Section */
      .about-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--spacing-xl);
        align-items: center;
      }

      .about-text {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--color-text);
      }

      .about-text p {
        text-align: justify;
        text-justify: inter-word;
      }

      .about-image {
        background: var(--color-light-gray);
        height: 300px;
        border-radius: var(--border-radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        color: var(--color-primary);
      }

      /* Contact Section - Nuestras Sedes */
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        max-width: 1000px;
        margin: 0 auto;
        padding: 60px 20px;
      }

      .sede-card {
        background: white;
        border-radius: 20px;
        padding: 40px 30px;
        text-align: center;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 1px solid #f0f0f0;
      }

      .sede-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 40px rgba(45, 80, 22, 0.15);
      }

      .sede-title {
        color: #2d5016;
        font-size: 1.5rem;
        margin-bottom: 20px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .contact-info {
        margin-bottom: 20px;
      }

      .contact-item {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 12px;
        margin: 15px 0;
        font-size: 1rem;
        color: #555;
        text-align: left;
      }

      .contact-item i {
        color: #2d5016;
        width: 20px;
        text-align: center;
        flex-shrink: 0;
      }

      /* Números de teléfono destacados */
      .sede-phone {
        background: linear-gradient(135deg, #2d5016, #4a7028);
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        font-weight: 600;
        margin: 20px 0;
        display: inline-block;
        text-decoration: none;
        transition: transform 0.2s ease;
      }

      .sede-phone:hover {
        transform: scale(1.05);
        text-decoration: none;
        color: white;
      }

      /* Horarios */
      .sede-horario {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        border-left: 4px solid #2d5016;
        text-align: left;
      }

      .sede-horario h4 {
        color: #2d5016;
        margin-bottom: 8px;
        font-size: 1rem;
        font-weight: 600;
      }

      .sede-horario p {
        margin: 5px 0;
        font-size: 0.95rem;
        color: #666;
      }

      .sede-whatsapp {
        background: #25d366;
        color: white;
        padding: 1rem;
        border-radius: var(--border-radius-lg);
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-sm);
        font-weight: 600;
        transition: var(--transition-smooth);
      }

      .sede-whatsapp:hover {
        background: #20b358;
        transform: translateY(-2px);
      }

      /* Footer */
      .footer {
        background: var(--color-secondary);
        color: white;
        padding: var(--spacing-xl) var(--spacing-sm) var(--spacing-sm);
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
      }

      .footer-section h3 {
        margin-bottom: var(--spacing-sm);
        color: var(--color-accent);
      }

      .footer-section ul {
        list-style: none;
      }

      .footer-section ul li {
        margin-bottom: 0.5rem;
      }

      .footer-section a {
        color: white;
        text-decoration: none;
        transition: var(--transition-smooth);
      }

      .footer-section a:hover {
        color: var(--color-accent);
      }

      .footer-bottom {
        text-align: center;
        padding-top: var(--spacing-sm);
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        color: rgba(255, 255, 255, 0.7);
      }

      /* Responsive */
      @media (max-width: 768px) {
        body {
          padding-top: 70px;
        }

        .header {
          top: 70px;
        }

        .whatsapp-container {
          flex-direction: column;
          gap: 8px;
          text-align: center;
        }

        .whatsapp-link {
          justify-content: center;
          padding: 4px 12px;
          font-size: 0.8rem;
        }

        .nav-menu {
          display: none;
        }

        .logo-text {
          font-size: 1.2rem;
        }

        .logo-subtitle {
          font-size: 0.8rem;
        }

        .logo-container {
          gap: 1rem;
        }

        .hero-title {
          font-size: 2.5rem;
        }

        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: #f8f9fa;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
            line-height: 1.4;
            font-size: 14px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: #2d5016;
            color: white;
            margin-left: auto;
            text-align: right;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            margin-right: auto;
            border-bottom-left-radius: 5px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .bot-message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid var(--color-accent);
            overflow: hidden;
            flex-shrink: 0;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bot-message-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bot-message-content {
            flex: 1;
        }

        .typing-indicator {
            background: #e3f2fd !important;
            border-color: #90caf9 !important;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .typing-indicator .dots {
            animation: blink 1.4s infinite;
        }

        @keyframes blink {
            0%, 20% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }

        .contact-options {
            max-width: 100% !important;
            background: #f0f7ed !important;
            border-color: #2d5016 !important;
        }

        .contact-options p {
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .whatsapp-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }

        .whatsapp-btn {
            background: #25d366;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }

        .whatsapp-btn:hover {
            background: #1da851;
            transform: translateY(-2px);
        }

        /* Estilos para selección de sede en chatbot */
        .sede-selection .whatsapp-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .whatsapp-btn-sede {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #25d366;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            width: 100%;
            font-family: inherit;
        }

        .whatsapp-btn-sede:hover {
            background: #1da851;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn-sede i {
            font-size: 24px;
        }

        .sede-selection .sede-info {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .sede-selection .sede-info strong {
            font-size: 1rem;
            margin-bottom: 3px;
        }

        .sede-selection .sede-info span {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .chatbot-input-area {
            padding: 15px;
            border-top: 1px solid #e0e0e0;
            background: white;
            display: flex;
            gap: 10px;
        }

        #chatbot-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        #chatbot-input:focus {
            border-color: #2d5016;
        }

        .chatbot-send-btn {
            background: #2d5016;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .chatbot-send-btn:hover {
            background: #1a2e0c;
            transform: scale(1.1);
        }

        .quick-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            padding: 10px 15px;
            background: #f1f3f4;
            border-top: 1px solid #e0e0e0;
        }

        .quick-question {
            background: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            border: 1px solid #ddd;
            transition: all 0.2s;
        }

        .quick-question:hover {
            background: #2d5016;
            color: white;
            border-color: #2d5016;
            transform: translateY(-2px);
        }

        /* Responsive Chatbot */
        @media (max-width: 768px) {
            .chatbot-window {
                width: calc(100vw - 40px);
                height: 400px;
            }

            .chatbot-fixed {
                right: 10px;
                bottom: 10px;
            }

            .chatbot-toggle {
                max-width: 60px;
                padding: 12px;
            }

            .chat-notification {
                display: none;
            }
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }

        .service-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-card);
            text-align: center;
            transition: var(--transition-smooth);
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-elevated);
        }

        .service-icon {
            display: none; /* Ocultar iconos, ahora usamos imágenes */
        }

        .service-image, .about-image {
            height: 200px;
            overflow: hidden;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .service-img, .section-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .service-title {
            font-family: var(--font-heading);
            font-size: 1.3rem;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        .service-description {
            color: var(--color-text);
            margin-bottom: var(--spacing-md);
            line-height: 1.6;
        }

        .service-btn {
            background: var(--color-accent);
            color: var(--color-primary);
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .service-btn:hover {
            background: #ff8c00;
            transform: translateY(-2px);
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--color-text);
        }

        .about-text p {
            text-align: justify;
            text-justify: inter-word;
            hyphens: auto;
            margin-bottom: 20px;
        }

        .about-image {
            background: var(--color-light-gray);
            height: 300px;
            border-radius: var(--border-radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--color-primary);
        }

        /* Contact Section - Nuestras Sedes */
        .contact-grid {
          grid-template-columns: 1fr;
          gap: 30px;
          padding: 40px 15px;
        }

        .sede-card {
          padding: 30px 20px;
        }

        .spa-filters {
          justify-content: flex-start;
          overflow-x: auto;
          padding: 1rem;
          gap: 0.8rem;
        }

        .filter-btn {
          flex-shrink: 0;
          font-size: 0.85rem;
          padding: 0.8rem 1.2rem;
        }

        .filter-btn:hover {
          transform: translateY(-2px) scale(1.02);
        }

        .filter-btn.active:hover {
          transform: translateY(-2px) scale(1.02);
        }

        .spa-products-grid {
          grid-template-columns: 1fr;
        }

        .logo-svg {
          width: 90px;
          height: 90px;
        }

        .hero {
          margin-top: 160px;
        }
      }

      /* Accesibilidad */
      @media (prefers-reduced-motion: reduce) {
        .logo-svg {
          animation: none;
          opacity: 1;
          transform: none;
          filter: none;
        }
      }

      /* Animaciones */
      .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* ===================================
         FAQ SECTION STYLES
         =================================== */

      .faq-section {
        padding: var(--spacing-xl) var(--spacing-sm);
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
      }

      .faq-header {
        text-align: center;
        margin-bottom: var(--spacing-lg);
      }

      .faq-title {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        color: var(--color-primary);
        margin-bottom: var(--spacing-sm);
      }

      .faq-subtitle {
        font-size: 1.1rem;
        color: var(--color-text-light);
        max-width: 600px;
        margin: 0 auto;
      }

      .faq-container {
        max-width: 900px;
        margin: 0 auto;
      }

      .faq-item {
        background: white;
        border-radius: var(--border-radius-md);
        margin-bottom: var(--spacing-sm);
        box-shadow: var(--shadow-card);
        overflow: hidden;
        transition: var(--transition-smooth);
      }

      .faq-item:hover {
        box-shadow: var(--shadow-elevated);
      }

      .faq-question {
        width: 100%;
        padding: 1.5rem;
        text-align: left;
        background: white;
        border: none;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        font-size: 1.05rem;
        font-weight: 600;
        color: var(--color-primary);
        transition: var(--transition-smooth);
      }

      .faq-question:hover {
        background: #f8f9fa;
      }

      .faq-question-text {
        flex: 1;
      }

      .faq-icon {
        font-size: 1.2rem;
        transition: transform 0.3s ease;
        flex-shrink: 0;
      }

      .faq-item.active .faq-icon {
        transform: rotate(180deg);
      }

      .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease, padding 0.4s ease;
        padding: 0 1.5rem;
      }

      .faq-item.active .faq-answer {
        max-height: 500px;
        padding: 0 1.5rem 1.5rem 1.5rem;
      }

      .faq-answer-text {
        color: var(--color-text);
        line-height: 1.7;
        font-size: 0.95rem;
      }

      .faq-view-all-btn {
        display: block;
        margin: var(--spacing-lg) auto 0;
        padding: 1rem 2.5rem;
        background: var(--color-accent);
        color: white;
        border: none;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-smooth);
        box-shadow: 0 4px 15px rgba(255, 165, 0, 0.3);
      }

      .faq-view-all-btn:hover {
        background: #ff8c00;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 165, 0, 0.4);
      }

      /* FAQ SPA Styles */
      .faq-spa {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        z-index: 8000;
        overflow-y: auto;
      }

      .faq-spa.active {
        display: block;
      }

      .faq-spa-header {
        position: sticky;
        top: 0;
        background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        color: white;
        padding: var(--spacing-md) 0;
        box-shadow: var(--shadow-elevated);
        z-index: 100;
      }

      .faq-spa-header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 var(--spacing-md);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .faq-spa-title {
        font-family: var(--font-heading);
        font-size: 1.5rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .faq-spa-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .faq-home-btn {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        font-size: 0.9rem;
        cursor: pointer;
        padding: 0.6rem 1.2rem;
        border-radius: var(--border-radius-sm);
        transition: var(--transition-smooth);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 500;
      }

      .faq-home-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .faq-close {
        background: transparent;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: var(--border-radius-sm);
        transition: var(--transition-smooth);
      }

      .faq-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .faq-spa-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: var(--spacing-md);
      }

      .faq-search-container {
        margin-bottom: var(--spacing-lg);
      }

      .faq-search-box {
        width: 100%;
        padding: 1rem 1.5rem;
        border: 2px solid var(--color-border);
        border-radius: 50px;
        font-size: 1rem;
        transition: var(--transition-smooth);
      }

      .faq-search-box:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(45, 80, 22, 0.1);
      }

      .faq-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-bottom: var(--spacing-lg);
        justify-content: center;
      }

      .faq-filter-btn {
        padding: 0.75rem 1.5rem;
        border: 2px solid var(--color-primary);
        background: white;
        color: var(--color-primary);
        border-radius: 50px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9rem;
        transition: var(--transition-smooth);
      }

      .faq-filter-btn:hover {
        background: rgba(45, 80, 22, 0.05);
        transform: translateY(-2px);
      }

      .faq-filter-btn.active {
        background: var(--color-primary);
        color: white;
        box-shadow: 0 4px 12px rgba(45, 80, 22, 0.3);
      }

      .faq-category-section {
        margin-bottom: var(--spacing-lg);
      }

      .faq-category-title {
        font-family: var(--font-heading);
        font-size: 1.8rem;
        color: var(--color-primary);
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-sm);
        border-bottom: 3px solid var(--color-accent);
      }

      .faq-no-results {
        text-align: center;
        padding: var(--spacing-xl);
        color: var(--color-text-light);
      }

      .faq-no-results i {
        font-size: 4rem;
        color: var(--color-primary);
        margin-bottom: var(--spacing-md);
        opacity: 0.5;
      }

      /* Responsive FAQ */
      @media (max-width: 768px) {
        .faq-title {
          font-size: 2rem;
        }

        .faq-spa-title {
          font-size: 1.2rem;
        }

        .faq-question {
          padding: 1rem;
          font-size: 0.95rem;
        }

        .faq-answer-text {
          font-size: 0.9rem;
        }

        .faq-filters {
          gap: 0.5rem;
        }

        .faq-filter-btn {
          padding: 0.6rem 1rem;
          font-size: 0.85rem;
        }

        .faq-category-title {
          font-size: 1.4rem;
        }

        .faq-spa-controls {
          flex-direction: column;
          gap: 0.5rem;
        }

        .faq-home-btn {
          font-size: 0.8rem;
          padding: 0.5rem 1rem;
        }
      }

      /* Modal de Selección de Sede */
      .sede-modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 9000;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(4px);
      }

      .sede-modal-overlay.active {
        display: flex;
      }

      .sede-modal {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        max-width: 450px;
        width: 90%;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: scale(0.9) translateY(-20px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      .sede-modal-header {
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .sede-modal-header h3 {
        color: var(--color-primary);
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }

      .sede-modal-header p {
        color: var(--color-text-light);
        font-size: 0.95rem;
      }

      .sede-modal-buttons {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .sede-option-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        padding: 1.2rem;
        background: linear-gradient(135deg, #25d366, #1da851);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
      }

      .sede-option-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
      }

      .sede-option-btn i {
        font-size: 1.5rem;
      }

      .sede-modal-close {
        margin-top: 1rem;
        text-align: center;
      }

      .sede-modal-close button {
        background: transparent;
        border: none;
        color: var(--color-text-light);
        font-size: 0.95rem;
        cursor: pointer;
        padding: 0.5rem 1rem;
        transition: color 0.2s;
      }

      /* Modal PQRS */
      .pqrs-modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 9999;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(5px);
        overflow-y: auto;
        padding: 2rem 0;
      }

      .pqrs-modal-overlay.active {
        display: flex;
      }

      .pqrs-modal {
        background: white;
        border-radius: 20px;
        max-width: 700px;
        width: 95%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4);
        animation: modalSlideIn 0.4s ease-out;
        margin: auto;
      }

      .pqrs-modal-header {
        background: linear-gradient(135deg, #2d5016, #4a7028);
        color: white;
        padding: 2rem;
        border-radius: 20px 20px 0 0;
        position: relative;
      }

      .pqrs-modal-header h3 {
        font-size: 1.8rem;
        margin: 0 0 0.5rem 0;
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }

      .pqrs-modal-header p {
        margin: 0;
        opacity: 0.9;
        font-size: 0.95rem;
      }

      .pqrs-close-btn {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .pqrs-close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: rotate(90deg);
      }

      .pqrs-form {
        padding: 2rem;
      }

      .pqrs-form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
      }

      .pqrs-form-group {
        display: flex;
        flex-direction: column;
      }

      .pqrs-form-group.full-width {
        grid-column: 1 / -1;
      }

      .pqrs-form-group label {
        color: var(--color-primary);
        font-weight: 600;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.95rem;
      }

      .pqrs-form-group input,
      .pqrs-form-group select,
      .pqrs-form-group textarea {
        padding: 0.8rem 1rem;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 0.95rem;
        font-family: inherit;
        transition: all 0.3s ease;
        background: white;
      }

      .pqrs-form-group input:focus,
      .pqrs-form-group select:focus,
      .pqrs-form-group textarea:focus {
        outline: none;
        border-color: var(--color-accent);
        box-shadow: 0 0 0 3px rgba(255, 165, 0, 0.1);
      }

      .pqrs-form-group textarea {
        resize: vertical;
        min-height: 120px;
      }

      .pqrs-form-group select {
        cursor: pointer;
      }

      .file-hint {
        color: #666;
        font-size: 0.85rem;
        margin-top: 0.3rem;
      }

      .pqrs-radio-group {
        display: flex;
        gap: 1.5rem;
        flex-wrap: wrap;
        margin-top: 0.5rem;
      }

      .pqrs-radio-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
        font-weight: 500;
        font-size: 0.95rem;
      }

      .pqrs-radio-label input[type="radio"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
        accent-color: var(--color-accent);
      }

      .pqrs-info-message {
        background: linear-gradient(135deg, #e8f5e9, #f0f7ed);
        border-left: 4px solid var(--color-accent);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .pqrs-info-message i {
        font-size: 1.5rem;
        color: var(--color-accent);
      }

      .pqrs-info-message p {
        margin: 0;
        color: var(--color-primary);
        font-size: 0.95rem;
      }

      .pqrs-info-message strong {
        color: var(--color-accent);
      }

      .pqrs-form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 2px solid #f0f0f0;
      }

      .pqrs-btn-primary,
      .pqrs-btn-secondary {
        padding: 0.9rem 2rem;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .pqrs-btn-primary {
        background: linear-gradient(135deg, var(--color-accent), #ff8c00);
        color: white;
        box-shadow: 0 4px 15px rgba(255, 165, 0, 0.3);
      }

      .pqrs-btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 165, 0, 0.4);
      }

      .pqrs-btn-secondary {
        background: #f0f0f0;
        color: #666;
      }

      .pqrs-btn-secondary:hover {
        background: #e0e0e0;
      }

      .pqrs-confirmacion {
        padding: 3rem 2rem;
        text-align: center;
      }

      .pqrs-success-icon {
        font-size: 4rem;
        color: #4caf50;
        margin-bottom: 1rem;
        animation: successPop 0.5s ease-out;
      }

      @keyframes successPop {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .pqrs-confirmacion h4 {
        color: var(--color-primary);
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }

      .pqrs-confirmacion p {
        color: #666;
        margin-bottom: 1.5rem;
      }

      .pqrs-radicado {
        background: linear-gradient(135deg, #f0f7ed, #e8f5e9);
        border: 2px solid var(--color-accent);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1.5rem 0;
      }

      .pqrs-radicado strong {
        font-size: 1.8rem;
        color: var(--color-primary);
        letter-spacing: 2px;
        font-family: 'Courier New', monospace;
      }

      .pqrs-info-text {
        font-size: 0.9rem;
        line-height: 1.6;
      }

        .footer-section a {
            color: white;
            text-decoration: none;
            transition: var(--transition-smooth);
        }

        .footer-section a:hover {
            color: var(--color-accent);
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--spacing-sm);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding-top: 70px;
            }

            .header {
                top: 70px;
            }

            .whatsapp-container {
                flex-direction: column;
                gap: 8px;
                text-align: center;
            }

            .whatsapp-link {
                justify-content: center;
                padding: 4px 12px;
                font-size: 0.8rem;
            }

            .nav-menu {
                display: none;
            }

            .logo-text {
                font-size: 1.2rem;
            }

            .logo-subtitle {
                font-size: 0.8rem;
            }

            .logo-container {
                gap: 1rem;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .about-content,
            .contact-grid {
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 40px 15px;
            }

            .sede-card {
                padding: 30px 20px;
            }

            .spa-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding: 1rem;
                gap: 0.8rem;
            }

            .filter-btn {
                flex-shrink: 0;
                font-size: 0.85rem;
                padding: 0.8rem 1.2rem;
            }

            .filter-btn:hover {
                transform: translateY(-2px) scale(1.02);
            }

            .filter-btn.active:hover {
                transform: translateY(-2px) scale(1.02);
            }

            .spa-products-grid {
                grid-template-columns: 1fr;
            }

            .logo-svg {
                width: 90px;
                height: 90px;
            }

            .hero {
                margin-top: 160px;
                min-height: 70vh;
            }

            .hero-video {
                opacity: 0.5;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }
        }

        /* Accesibilidad */
        @media (prefers-reduced-motion: reduce) {
            .logo-svg {
                animation: none;
                opacity: 1;
                transform: none;
                filter: none;
            }
        }

        /* Animaciones */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Modal de Selección de Sede */
        .sede-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .sede-modal-overlay.active {
            display: flex;
        }

        .sede-modal {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .sede-modal-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .sede-modal-header h3 {
            color: var(--color-primary);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .sede-modal-header p {
            color: var(--color-text-light);
            font-size: 0.95rem;
        }

        .sede-modal-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .sede-option-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 1.2rem;
            background: linear-gradient(135deg, #25D366, #1DA851);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .sede-option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
        }

        .sede-option-btn i {
            font-size: 1.5rem;
        }

        .sede-modal-close {
            margin-top: 1rem;
            text-align: center;
        }

        .sede-modal-close button {
            background: transparent;
            border: none;
            color: var(--color-text-light);
            font-size: 0.95rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            transition: color 0.2s;
        }

        .sede-modal-close button:hover {
            color: var(--color-primary);
        }

        /* PQRS Modal Responsive */
        .pqrs-modal {
            max-width: 95%;
            width: 95%;
            max-height: 95vh;
        }

        .pqrs-modal-header h3 {
            font-size: 1.4rem;
        }

        .pqrs-form {
            padding: 1.5rem;
        }

        .pqrs-form-grid {
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }

        .pqrs-form-group.full-width {
            grid-column: 1;
        }

        .pqrs-form-actions {
            flex-direction: column-reverse;
        }

        .pqrs-btn-primary,
        .pqrs-btn-secondary {
            width: 100%;
            justify-content: center;
        }

        .pqrs-radicado strong {
            font-size: 1.4rem;
        }
    </style>

    <!-- WhatsApp Header Bar -->
    <div class="whatsapp-header-fixed">
      <div class="whatsapp-container">
        <a
          href="https://wa.me/573008611886?text=Hola,%20me%20interesa%20información%20sobre%20escaleras%20industriales%20desde%20Bogotá"
          class="whatsapp-link"
          target="_blank"
        >
          <i class="fab fa-whatsapp"></i>
          <span>WhatsApp Bogotá</span>
        </a>
        <a
          href="https://wa.me/573181027047?text=Hola,%20me%20interesa%20información%20sobre%20escaleras%20industriales%20desde%20Bucaramanga"
          class="whatsapp-link"
          target="_blank"
        >
          <i class="fab fa-whatsapp"></i>
          <span>WhatsApp Bucaramanga</span>
        </a>
      </div>
    </div>

    <!-- Header -->
    <header class="header">
      <div class="nav-container">
        <div class="logo-container">
          <img
            src="https://i.ibb.co/4Z35yMq4/logo-negro.png"
            alt="Escaleras Ferre Logo"
            class="logo-svg"
          />
          <div>
            <div class="logo-text">ESCALERAS FERRE</div>
            <div class="logo-subtitle">Suministros Varios</div>
          </div>
        </div>

        <nav>
          <ul class="nav-menu">
            <li><a href="#inicio" class="nav-link">Inicio</a></li>
            <li><a href="#nosotros" class="nav-link">Nosotros</a></li>
            <li><a href="#servicios" class="nav-link">Servicios</a></li>
            <li>
              <a href="#" class="nav-link" onclick="openCatalogSPA()"
                >Catálogo</a
              >
            </li>
            <li><a href="#faq" class="nav-link" onclick="scrollToFAQ(); return false;">FAQ</a></li>
            <li><a href="#contacto" class="nav-link">Contacto</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section id="inicio" class="hero">
        <div class="hero-background-video">
            <video autoplay muted loop playsinline preload="metadata" class="hero-video">
                <source src="https://i.imgur.com/RC1u4Eg.mp4" type="video/mp4">
            </video>
            <div class="hero-overlay"></div>
        </div>
        <div class="hero-content">
            <div class="container">
                <h1 class="hero-title fade-in visible">Escaleras Certificadas</h1>
                <p class="hero-subtitle fade-in visible">
                    Especialistas en escaleras industriales, comerciales y residenciales con certificación internacional
                </p>
                <div class="hero-ctas fade-in visible">
                    <a href="#" onclick="openCatalogSPA()" class="cta-primary">
                        <i class="fas fa-th-large"></i>
                        Ver Catálogo Completo
                    </a>
                    <a href="#" onclick="abrirChatbotContacto()" class="cta-secondary">
                        <i class="fas fa-phone"></i>
                        Contactar
                    </a>
                </div>
            </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="nosotros" class="section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title fade-in visible">¿Quiénes Somos?</h2>
          <p class="section-subtitle fade-in visible">
            Con años de experiencia en el sector, somos la opción confiable para
            tus proyectos
          </p>
        </div>
        <div class="about-content">
          <div class="about-text fade-in visible">
            <p>
  En <strong>Escaleras Ferre</strong> nos especializamos en la fabricación,
  venta y alquiler de escaleras certificadas de la más alta calidad. Con más de
  una década de experiencia en el sector, hemos consolidado nuestra presencia en
  Bogotá y Bucaramanga.
</p>
<p>
  Nuestros productos cumplen con las normativas internacionales ISO 9001:2015,
  <strong>ANSI 14.5 (Fibra de Vidrio)</strong>,
  <strong>ANSI 14.2 (Aluminio)</strong> y OSHA, garantizando la máxima seguridad
  para nuestros clientes en todos sus proyectos industriales, comerciales y
  residenciales.
</p>

          </div>
          <div class="about-image fade-in visible">
            <img
              src="https://i.imgur.com/SfndVuY.png"
              alt="Instalaciones Escaleras Ferre"
              class="section-img"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section id="servicios" class="section section-alt">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title fade-in visible">Nuestros Servicios</h2>
          <p class="section-subtitle fade-in visible">
            Soluciones completas para construcción, industria y sector eléctrico
          </p>
        </div>
        <div class="services-grid">
          <div class="service-card fade-in visible">
            <div class="service-image">
              <img
                src="https://i.imgur.com/eudaPJq.png"
                alt="Fabricación de Escaleras"
                class="service-img"
              />
            </div>
            <h3 class="service-title">Fabricación de Escaleras</h3>
            <p class="service-description">
              Fabricamos escaleras a medida en fibra de vidrio y aluminio con
              certificación internacional para proyectos industriales y
              comerciales.
            </p>
            <button onclick="openCatalogSPA()" class="service-btn">
              Ver Productos
            </button>
          </div>

          <div class="service-card fade-in visible">
            <div class="service-image">
              <img
                src="https://i.imgur.com/MTg1Swv.png"
                alt="Alquiler de Escaleras"
                class="service-img"
              />
            </div>
            <h3 class="service-title">Alquiler de Escaleras</h3>
            <p class="service-description">
              Alquiler de:<br />
              • Escaleras en extensión<br />
              • Tijera, sencilla y tijera plataforma<br />
              Incluye entrega, instalación y recogida.
            </p>
            <button onclick="openChatbot()" class="service-btn">
              Consultar Alquiler
            </button>
          </div>

          <div class="service-card fade-in visible">
            <div class="service-image">
              <img
                src="https://i.imgur.com/yYie6le.png"
                alt="Mantenimiento Especializado"
                class="service-img"
              />
            </div>
            <h3 class="service-title">Mantenimiento Especializado</h3>
            <p class="service-description">
              Especialistas certificados en mantenimiento preventivo y
              correctivo de escaleras industriales y comerciales. Tu seguridad
              es nuestra experiencia.
            </p>
            <button onclick="openChatbot()" class="service-btn">
              Agendar Servicio
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="faq-section">
      <div class="container">
        <div class="faq-header">
          <h2 class="faq-title fade-in visible">Preguntas Frecuentes</h2>
          <p class="faq-subtitle fade-in visible">
            Resuelve las dudas más comunes sobre nuestras escaleras
          </p>
        </div>

        <div class="faq-container">
          <!-- FAQ 1 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Cuál es la diferencia entre fibra de vidrio y aluminio?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                La fibra de vidrio es aislante eléctrica (ideal para trabajo eléctrico), más durable pero más pesada. El aluminio es más liviano y económico, pero conduce electricidad.
              </p>
            </div>
          </div>

          <!-- FAQ 2 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Qué capacidad de peso soportan las escaleras?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Las escaleras industriales soportan 136kg (300 libras) Tipo IA, las comerciales 114kg (250 libras) Tipo I, y algunas comerciales de aluminio 102kg (225 libras) Tipo II.
              </p>
            </div>
          </div>

          <!-- FAQ 3 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Qué certificaciones tienen sus escaleras?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Nuestras escaleras cumplen con ISO 9001:2015, ANSI 14.5 (Fibra de Vidrio), ANSI 14.2 (Aluminio), EN131 y OSHA.
              </p>
            </div>
          </div>

          <!-- FAQ 4 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Cuáles son los tipos de escaleras que fabrican?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Fabricamos escaleras en extensión (2 y 3 cuerpos), tijeras, sencillas y caballete, tanto en fibra de vidrio como en aluminio, con capacidades industriales y comerciales.
              </p>
            </div>
          </div>

          <!-- FAQ 5 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Las escaleras de fibra de vidrio son seguras para trabajo eléctrico?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Las escaleras de fibra de vidrio SÍ son 100% aislantes eléctricas y certificadas para trabajo en vivo. Las de aluminio NO deben usarse cerca de electricidad.
              </p>
            </div>
          </div>

          <!-- FAQ 6 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Cuánto tiempo dura una escalera de fibra de vidrio?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Con el mantenimiento adecuado, una escalera de fibra de vidrio puede durar muchos años sin mostrar signos significativos de desgaste, especialmente en entornos corrosivos o eléctricos.
              </p>
            </div>
          </div>

          <!-- FAQ 7 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Qué norma certifica las escaleras en Colombia?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                El trabajo seguro en escaleras se rige por la Resolución 1409 de 2012 que establece el Reglamento de Seguridad para protección contra caídas en trabajo en alturas.
              </p>
            </div>
          </div>

          <!-- FAQ 8 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Cómo se debe inspeccionar una escalera?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Inspeccionar rieles, peldaños, ganchos, cuerdas y zapatas antideslizantes para verificar que no haya daños o defectos antes de cada uso.
              </p>
            </div>
          </div>

          <!-- FAQ 9 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Cuáles son las escaleras más seguras?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Las escaleras telescópicas son perfectas para trabajos seguros en diferentes alturas. Son fuertes, ligeras y resistentes.
              </p>
            </div>
          </div>

          <!-- FAQ 10 -->
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              <span class="faq-question-text">¿Qué altura máxima pueden tener las escaleras?</span>
              <i class="fas fa-chevron-down faq-icon"></i>
            </button>
            <div class="faq-answer">
              <p class="faq-answer-text">
                Está prohibido su uso para alturas superiores a 6m. Para alturas superiores a 3.5m debe utilizarse arnés de seguridad.
              </p>
            </div>
          </div>

          <button class="faq-view-all-btn" onclick="openFAQSPA()">
            <i class="fas fa-question-circle"></i> Ver todas las preguntas (85)
          </button>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contacto" class="section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title fade-in visible">Nuestras Sedes</h2>
          <p class="section-subtitle fade-in visible">
            Estamos cerca de ti con atención especializada en cada ciudad
          </p>
        </div>
        <div class="contact-grid">
          <!-- Sede Bogotá -->
          <div class="sede-card fade-in visible">
            <h3 class="sede-title">
              <i class="fas fa-map-marker-alt"></i>
              Sede Bogotá
            </h3>

            <div class="contact-info">
              <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>300 861 1886</span>
              </div>

              <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <span>ventas@escalerasferre.com</span>
              </div>

              <div class="sede-horario">
                <h4><i class="far fa-clock"></i> Horarios de Atención</h4>
                <p>Lun - Vie: 8:00 AM - 6:00 PM</p>
                <p>Sáb: 8:00 AM - 2:00 PM</p>
              </div>

              <div class="contact-item">
                <i class="fas fa-laptop"></i>
                <span>Atención Virtual - Consultas técnicas y comerciales</span>
              </div>

              <a href="tel:3008611886" class="sede-phone">
                <i class="fas fa-phone"></i> Llamar Bogotá
              </a>
            </div>
          </div>

          <!-- Sede Bucaramanga -->
          <div class="sede-card fade-in visible">
            <h3 class="sede-title">
              <i class="fas fa-map-marker-alt"></i>
              Sede Bucaramanga
            </h3>

            <div class="contact-info">
              <div class="contact-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>Cll 34 No 11-27, Bucaramanga</span>
              </div>

              <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>318 102 7047</span>
              </div>

              <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <span>ventas@escalerasferre.com</span>
              </div>

              <div class="sede-horario">
                <h4><i class="far fa-clock"></i> Horarios de Atención</h4>
                <p>Lun - Vie: 8:00 AM - 6:00 PM</p>
                <p>Sáb: 8:00 AM - 2:00 PM</p>
              </div>

              <div class="contact-item">
                <i class="fas fa-store"></i>
                <span>Sede Física - Visitas presenciales y showroom</span>
              </div>

              <a href="tel:3181027047" class="sede-phone">
                <i class="fas fa-phone"></i> Llamar Bucaramanga
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SPA Catalog -->
    <div class="spa-catalog" id="spaCatalog">
      <div class="spa-header">
        <div class="spa-header-content">
          <h2 class="spa-title">
            <i class="fas fa-th-large"></i>
            Catálogo Completo - Escaleras Ferre
          </h2>
          <div style="display: flex; align-items: center; gap: 1rem;">
            <button class="spa-home-btn" onclick="closeCatalogAndGoHome()">
              <i class="fas fa-home"></i>
              Volver al Inicio
            </button>
            <button class="spa-close" onclick="closeCatalogSPA()">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="spa-content">
        <div class="spa-filters">
          <button class="filter-btn active" onclick="filterProducts('todos')">
            Todos
          </button>
          <button
            class="filter-btn"
            onclick="filterProducts('extension-fibra')"
          >
            Extensión Fibra<br />Extensión Aluminio
          </button>
          <button class="filter-btn" onclick="filterProducts('tijera-fibra')">
            Tijera Fibra<br />Tijera Aluminio
          </button>
          <button
            class="filter-btn"
            onclick="filterProducts('escalera-cuerpo-fibra')"
          >
            Escalera un cuerpo Fibra<br />Escalera un cuerpo Aluminio
          </button>
          <button
            class="filter-btn"
            onclick="filterProducts('escalera-plataforma')"
          >
            Escalera Plataforma Fibra<br />Escalera Plataforma Aluminio
          </button>
          <button class="filter-btn" onclick="filterProducts('accesorios')">
            Accesorios
          </button>
        </div>

        <div class="spa-products-grid" id="productsGrid">
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos -
                5.00m/16 pasos
              </h3>
              <div class="spa-product-price">$ 1.349.800</div>
              <div class="spa-product-code">Código: EF 5,00</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 18,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Extensión Dos Cuerpos
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos - 5.00m/16 pasos', '$ 1.349.800', 'EF 5,00')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos -
                6.00m/20 pasos
              </h3>
              <div class="spa-product-price">$ 1.649.800</div>
              <div class="spa-product-code">Código: EF 6,00</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 19,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Extensión Dos Cuerpos
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos - 6.00m/20 pasos', '$ 1.649.800', 'EF 6,00')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos -
                7.40m/24 pasos
              </h3>
              <div class="spa-product-price">$ 1.949.800</div>
              <div class="spa-product-code">Código: EF 7,40</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 23,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Extensión Dos Cuerpos
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos - 7.40m/24 pasos', '$ 1.949.800', 'EF 7,40')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Sencilla - 1.50m/5 pasos
              </h3>
              <div class="spa-product-price">$ 549.800</div>
              <div class="spa-product-code">Código: SF 1,50</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 6,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Sencilla 1 Cuerpo
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Sencilla - 1.50m/5 pasos', '$ 549.800', 'SF 1,50')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Sencilla - 2.10m/7 pasos
              </h3>
              <div class="spa-product-price">$ 699.800</div>
              <div class="spa-product-code">Código: SF 2,10</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 7,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Sencilla 1 Cuerpo
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Sencilla - 2.10m/7 pasos', '$ 699.800', 'SF 2,10')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Tijera - 1.20m/4 pasos
              </h3>
              <div class="spa-product-price">$ 499.800</div>
              <div class="spa-product-code">Código: TF 1,20</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 8,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Tijera Peldaños Planos
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Tijera - 1.20m/4 pasos', '$ 499.800', 'TF 1,20')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Certificada Fibra Vidrio - Tijera - 1.80m/6 pasos
              </h3>
              <div class="spa-product-price">$ 749.800</div>
              <div class="spa-product-code">Código: TF 1,80</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 11,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Tijera Peldaños Planos
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Certificada Fibra Vidrio - Tijera - 1.80m/6 pasos', '$ 749.800', 'TF 1,80')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Extensión - 5.00m/16 pasos
              </h3>
              <div class="spa-product-price">$ 1.174.800</div>
              <div class="spa-product-code">Código: EA 5,00</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 13,8 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Extensión Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Extensión - 5.00m/16 pasos', '$ 1.174.800', 'EA 5,00')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Extensión - 6.00m/20 pasos
              </h3>
              <div class="spa-product-price">$ 1.349.800</div>
              <div class="spa-product-code">Código: EA 6,00</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 16,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Extensión Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Extensión - 6.00m/20 pasos', '$ 1.349.800', 'EA 6,00')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Sencilla - 1.50m/5 pasos
              </h3>
              <div class="spa-product-price">$ 499.800</div>
              <div class="spa-product-code">Código: SA 1,50</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 5,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Sencilla Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Sencilla - 1.50m/5 pasos', '$ 499.800', 'SA 1,50')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Sencilla - 2.10m/7 pasos
              </h3>
              <div class="spa-product-price">$ 649.800</div>
              <div class="spa-product-code">Código: SA 2,10</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 7,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Sencilla Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Sencilla - 2.10m/7 pasos', '$ 649.800', 'SA 2,10')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Tijera - 1.20m/4 pasos
              </h3>
              <div class="spa-product-price">$ 399.800</div>
              <div class="spa-product-code">Código: TA 1,20</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 5,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Tijera Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Tijera - 1.20m/4 pasos', '$ 399.800', 'TA 1,20')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Escalera Aluminio Industrial - Tijera - 1.80m/6 pasos
              </h3>
              <div class="spa-product-price">$ 599.800</div>
              <div class="spa-product-code">Código: TA 1,80</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> 136 kg - Tipo IA
                </div>
                <div class="product-detail"><strong>Peso:</strong> 9,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Tijera Industrial
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Escalera Aluminio Industrial - Tijera - 1.80m/6 pasos', '$ 599.800', 'TA 1,80')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Pértiga Telescópica Fibra Vidrio - 6 metros
              </h3>
              <div class="spa-product-price">$ 1.249.800</div>
              <div class="spa-product-code">Código: PT 6,0</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> Aislada 100kV
                </div>
                <div class="product-detail"><strong>Peso:</strong> 2,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Pértiga Telescópica
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Pértiga Telescópica Fibra Vidrio - 6 metros', '$ 1.249.800', 'PT 6,0')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">
                Pértiga Telescópica Fibra Vidrio - 10 metros
              </h3>
              <div class="spa-product-price">$ 1.849.800</div>
              <div class="spa-product-code">Código: PT 10,0</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Fibra de Vidrio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> Aislada 100kV
                </div>
                <div class="product-detail"><strong>Peso:</strong> 4,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Pértiga Telescópica
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Pértiga Telescópica Fibra Vidrio - 10 metros', '$ 1.849.800', 'PT 10,0')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">Ganchos Bomberos</h3>
              <div class="spa-product-price">$ 199.800</div>
              <div class="spa-product-code">Código: ACC-GB</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Acero Galvanizado
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> Compatible con extensión
                </div>
                <div class="product-detail"><strong>Peso:</strong> 1,5 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Accesorio
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Ganchos Bomberos', '$ 199.800', 'ACC-GB')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
          <div class="spa-product-card">
            <div class="spa-product-image">
              <div class="spa-product-placeholder">
                <i class="fas fa-industry"></i>
              </div>
            </div>
            <div class="spa-product-info">
              <h3 class="spa-product-name">Zapata Niveladora</h3>
              <div class="spa-product-price">$ 699.800</div>
              <div class="spa-product-code">Código: ACC-ZN</div>
              <div class="product-technical-details">
                <div class="product-detail">
                  <strong>Material:</strong> Aluminio
                </div>
                <div class="product-detail">
                  <strong>Capacidad:</strong> Ajuste de nivel automático
                </div>
                <div class="product-detail"><strong>Peso:</strong> 2,0 kg</div>
                <div class="product-detail">
                  <strong>Tipo:</strong> Accesorio
                </div>
              </div>
              <div class="spa-product-actions">
                <button
                  class="spa-product-btn btn-whatsapp"
                  onclick="contactProduct('Zapata Niveladora', '$ 699.800', 'ACC-ZN')"
                >
                  <i class="fab fa-whatsapp"></i> Consultar
                </button>
                <button
                  class="spa-product-btn btn-cart"
                  onclick="openChatbot()"
                >
                  <i class="fas fa-shopping-cart"></i> Cotizar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Escaleras Ferre</h3>
          <p>
            Especialistas en escaleras certificadas y herramientas eléctricas
            para construcción e industria.
          </p>
          <p><strong>Tu seguridad es nuestra prioridad</strong></p>
        </div>

        <div class="footer-section">
          <h3>Servicios</h3>
          <ul>
            <li><a href="#servicios">Fabricación de Escaleras</a></li>
            <li><a href="#servicios">Alquiler de Escaleras</a></li>
            <li><a href="#servicios">Mantenimiento Especializado</a></li>
            <li><a href="#servicios">Herramientas Eléctricas</a></li>
            <li>
              <a href="#" onclick="openCatalogSPA()">Catálogo de Productos</a>
            </li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Contacto Rápido</h3>
          <ul>
            <li><i class="fas fa-map-marker-alt"></i> Bogotá: 300 861 1886</li>
            <li>
              <i class="fas fa-map-marker-alt"></i> Bucaramanga: 318 102 7047
            </li>
            <li><i class="fas fa-envelope"></i> ventas@escalerasferre.com</li>
            <li><i class="fas fa-clock"></i> Lun - Vie: 8:00 AM - 6:00 PM</li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Certificaciones</h3>
          <p>
            Todas nuestras escaleras cumplen con las normas de seguridad
            industrial vigentes.
          </p>
          <ul>
            <li><i class="fas fa-certificate"></i> ISO 9001:2015</li>
            <li><i class="fas fa-certificate"></i> ANSI 14.5</li>
            <li><i class="fas fa-certificate"></i> ANSI 14.2</li>
            <li><i class="fas fa-certificate"></i> OSHA</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>
          © 2024 Escaleras Ferre - Suministros Varios. Todos los derechos
          reservados.
        </p>
      </div>
    </footer>

    <script>
        // Base de datos de productos - Nuevo sistema con códigos ESC
        const catalogoEscaleras = [
            // FIBRA DE VIDRIO - EXTENSIÓN 2 CUERPOS
            {
                id: 1,
                name: "Escalera Certificada Fibra Vidrio - Extensión 2 Cuerpos",
                codigo: "ESC-FVE",
                image: "https://i.imgur.com/wxfo7mf.png",
                material: "Fibra de Vidrio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Extensión Dos Cuerpos",
                category: "fibra-extension",
                referencias: [
                    { ref: "ESC-FVE-16", metros: "5.00", pasos: 16 },
                    { ref: "ESC-FVE-20", metros: "6.00", pasos: 20 },
                    { ref: "ESC-FVE-24", metros: "7.40", pasos: 24 },
                    { ref: "ESC-FVE-28", metros: "8.60", pasos: 28 },
                    { ref: "ESC-FVE-32", metros: "10.0", pasos: 32 },
                    { ref: "ESC-FVE-36", metros: "11.0", pasos: 36 },
                    { ref: "ESC-FVE-40", metros: "12.0", pasos: 40 }
                ]
            },
            // FIBRA DE VIDRIO - EXTENSIÓN 3 CUERPOS
            {
                id: 2,
                name: "Escalera Certificada Fibra Vidrio - Extensión 3 Cuerpos",
                codigo: "ESC-FVET",
                image: "https://i.imgur.com/Ia8HCVJ.png",
                material: "Fibra de Vidrio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Extensión Tres Cuerpos",
                category: "fibra-extension",
                referencias: [
                    { ref: "ESC-FVET-24", metros: "2.40/7.20", pasos: 24 },
                    { ref: "ESC-FVET-30", metros: "3.00/9.20", pasos: 30 }
                ]
            },
            // FIBRA DE VIDRIO - CABALLETE
            {
                id: 3,
                name: "Escalera Certificada Fibra Vidrio - Caballete",
                codigo: "ESC-FCB",
                image: "https://i.imgur.com/yxx6qra.png",
                material: "Fibra de Vidrio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Caballete",
                category: "fibra-caballete",
                referencias: [
                    { ref: "ESC-FCB-16", metros: "5.00", pasos: 16 },
                    { ref: "ESC-FCB-20", metros: "6.00", pasos: 20 },
                    { ref: "ESC-FCB-24", metros: "7.40", pasos: 24 },
                    { ref: "ESC-FCB-28", metros: "8.60", pasos: 28 },
                    { ref: "ESC-FCB-32", metros: "10.0", pasos: 32 }
                ]
            },
            // FIBRA DE VIDRIO - SENCILLA INDUSTRIAL
            {
                id: 4,
                name: "Escalera Certificada Fibra Vidrio - Sencilla Industrial",
                codigo: "ESC-FSI",
                image: "https://i.imgur.com/aAVZM6S.png",
                material: "Fibra de Vidrio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Sencilla Industrial",
                category: "fibra-sencilla",
                referencias: [
                    { ref: "ESC-FSI-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-FSI-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-FSI-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-FSI-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-FSI-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-FSI-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-FSI-12", metros: "3.60", pasos: 12 },
                    { ref: "ESC-FSI-14", metros: "4.20", pasos: 14 },
                    { ref: "ESC-FSI-16", metros: "4.80", pasos: 16 },
                    { ref: "ESC-FSI-20", metros: "6.00", pasos: 20 }
                ]
            },
            // FIBRA DE VIDRIO - SENCILLA COMERCIAL
            {
                id: 5,
                name: "Escalera Certificada Fibra Vidrio - Sencilla Comercial",
                codigo: "ESC-FSC",
                image: "https://i.imgur.com/aAVZM6S.png",
                material: "Fibra de Vidrio",
                capacidad: "114 kg - Tipo I",
                tipo: "Sencilla Comercial",
                category: "fibra-sencilla",
                referencias: [
                    { ref: "ESC-FSC-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-FSC-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-FSC-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-FSC-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-FSC-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-FSC-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-FSC-12", metros: "3.60", pasos: 12 }
                ]
            },
            // FIBRA DE VIDRIO - TIJERA INDUSTRIAL
            {
                id: 6,
                name: "Escalera Certificada Fibra Vidrio - Tijera Industrial",
                codigo: "ESC-FTI",
                image: "https://i.imgur.com/Ll9DNdk.jpeg",
                material: "Fibra de Vidrio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Tijera Industrial",
                category: "fibra-tijera",
                referencias: [
                    { ref: "ESC-FTI-02", metros: "0.60", pasos: 2 },
                    { ref: "ESC-FTI-03", metros: "0.90", pasos: 3 },
                    { ref: "ESC-FTI-04", metros: "1.20", pasos: 4 },
                    { ref: "ESC-FTI-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-FTI-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-FTI-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-FTI-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-FTI-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-FTI-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-FTI-12", metros: "3.60", pasos: 12 },
                    { ref: "ESC-FTI-14", metros: "4.20", pasos: 14 },
                    { ref: "ESC-FTI-16", metros: "4.80", pasos: 16 },
                    { ref: "ESC-FTI-18", metros: "5.40", pasos: 18 },
                    { ref: "ESC-FTI-20", metros: "6.00", pasos: 20 }
                ]
            },
            // FIBRA DE VIDRIO - TIJERA COMERCIAL
            {
                id: 7,
                name: "Escalera Certificada Fibra Vidrio - Tijera Comercial",
                codigo: "ESC-FTC",
                image: "https://i.imgur.com/iU0aZBs.png",
                material: "Fibra de Vidrio",
                capacidad: "114 kg - Tipo I",
                tipo: "Tijera Comercial",
                category: "fibra-tijera",
                referencias: [
                    { ref: "ESC-FTC-02", metros: "0.60", pasos: 2 },
                    { ref: "ESC-FTC-03", metros: "0.90", pasos: 3 },
                    { ref: "ESC-FTC-04", metros: "1.20", pasos: 4 },
                    { ref: "ESC-FTC-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-FTC-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-FTC-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-FTC-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-FTC-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-FTC-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-FTC-11", metros: "3.30", pasos: 11 },
                    { ref: "ESC-FTC-12", metros: "3.60", pasos: 12 }
                ]
            },
            // ALUMINIO - EXTENSIÓN 2 CUERPOS
            {
                id: 8,
                name: "Escalera Certificada Aluminio - Extensión 2 Cuerpos",
                codigo: "ESC-ALE",
                image: "https://i.imgur.com/6Lnh1gF.png",
                material: "Aluminio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Extensión Dos Cuerpos",
                category: "aluminio-extension",
                referencias: [
                    { ref: "ESC-ALE-16", metros: "5.00", pasos: 16 },
                    { ref: "ESC-ALE-20", metros: "6.00", pasos: 20 },
                    { ref: "ESC-ALE-24", metros: "7.40", pasos: 24 },
                    { ref: "ESC-ALE-28", metros: "8.60", pasos: 28 },
                    { ref: "ESC-ALE-32", metros: "10.0", pasos: 32 },
                    { ref: "ESC-ALE-36", metros: "11.0", pasos: 36 },
                    { ref: "ESC-ALE-40", metros: "12.0", pasos: 40 }
                ]
            },
            // ALUMINIO - SENCILLA INDUSTRIAL
            {
                id: 9,
                name: "Escalera Certificada Aluminio - Sencilla Industrial",
                codigo: "ESC-ASI",
                image: "https://i.imgur.com/cdx39YL.png",
                material: "Aluminio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Sencilla Industrial",
                category: "aluminio-sencilla",
                referencias: [
                    { ref: "ESC-ASI-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-ASI-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-ASI-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-ASI-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-ASI-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-ASI-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-ASI-12", metros: "3.60", pasos: 12 },
                    { ref: "ESC-ASI-13", metros: "4.00", pasos: 13 },
                    { ref: "ESC-ASI-17", metros: "5.00", pasos: 17 },
                    { ref: "ESC-ASI-20", metros: "6.00", pasos: 20 }
                ]
            },
            // ALUMINIO - TIJERA INDUSTRIAL
            {
                id: 10,
                name: "Escalera Certificada Aluminio - Tijera Industrial",
                codigo: "ESC-ATI",
                image: "https://i.imgur.com/205eJFV.png",
                material: "Aluminio",
                capacidad: "136 kg - Tipo IA",
                tipo: "Tijera Industrial",
                category: "aluminio-tijera",
                referencias: [
                    { ref: "ESC-ATI-02", metros: "0.60", pasos: 2 },
                    { ref: "ESC-ATI-03", metros: "0.90", pasos: 3 },
                    { ref: "ESC-ATI-04", metros: "1.20", pasos: 4 },
                    { ref: "ESC-ATI-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-ATI-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-ATI-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-ATI-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-ATI-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-ATI-10", metros: "3.00", pasos: 10 },
                    { ref: "ESC-ATI-12", metros: "3.60", pasos: 12 },
                    { ref: "ESC-ATI-16", metros: "4.80", pasos: 16 },
                    { ref: "ESC-ATI-18", metros: "5.40", pasos: 18 },
                    { ref: "ESC-ATI-20", metros: "6.00", pasos: 20 }
                ]
            },
            // ALUMINIO - TIJERA COMERCIAL
            {
                id: 11,
                name: "Escalera Certificada Aluminio - Tijera Comercial",
                codigo: "ESC-ATC",
                image: "https://i.imgur.com/fsogv27.png",
                material: "Aluminio",
                capacidad: "102 kg - Tipo II",
                tipo: "Tijera Comercial",
                category: "aluminio-tijera",
                referencias: [
                    { ref: "ESC-ATC-02", metros: "0.60", pasos: 2 },
                    { ref: "ESC-ATC-03", metros: "0.90", pasos: 3 },
                    { ref: "ESC-ATC-04", metros: "1.20", pasos: 4 },
                    { ref: "ESC-ATC-05", metros: "1.50", pasos: 5 },
                    { ref: "ESC-ATC-06", metros: "1.80", pasos: 6 },
                    { ref: "ESC-ATC-07", metros: "2.10", pasos: 7 },
                    { ref: "ESC-ATC-08", metros: "2.40", pasos: 8 },
                    { ref: "ESC-ATC-09", metros: "2.70", pasos: 9 },
                    { ref: "ESC-ATC-10", metros: "3.00", pasos: 10 }
                ]
            },
            // ACCESORIOS
            {
                id: 12,
                name: "Accesorios para Escaleras",
                codigo: "ESC-ACC",
                image: "https://i.imgur.com/6SrgIgK.png",
                material: "Universal",
                capacidad: "Compatibles con todas las escaleras",
                tipo: "Accesorios",
                category: "accesorios",
                referencias: [
                    { ref: "ESC-ACC-BF", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-BH", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-GB", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-ZN", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-PA", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-ZP", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-PH", metros: "Universal", pasos: "-" },
                    { ref: "ESC-ACC-RT", metros: "Universal", pasos: "-" }
                ]
            }
        ];

      // Funciones del catálogo
      function openCatalogSPA() {
        console.log("🚀 Abriendo catálogo SPA...");

        const spaCatalog = document.getElementById("spaCatalog");
        if (!spaCatalog) {
          console.error("❌ No se encontró el elemento spaCatalog");
          alert("Error: No se pudo abrir el catálogo");
          return;
        }

        console.log("✅ Elemento spaCatalog encontrado");
        spaCatalog.classList.add("active");
        document.body.style.overflow = "hidden";

        console.log(
          `✅ Base de datos cargada con ${catalogoEscaleras.length} productos`
        );

        // Renderizar productos con un pequeño delay
        setTimeout(() => {
          renderProducts("todos");
        }, 100);

        console.log("🎉 Catálogo SPA abierto exitosamente");
      }

      function closeCatalogSPA() {
        console.log("🔒 Cerrando catálogo SPA...");
        const spaCatalog = document.getElementById("spaCatalog");
        if (spaCatalog) {
          spaCatalog.classList.remove("active");
          document.body.style.overflow = "auto";
          console.log("✅ Catálogo SPA cerrado");
        }
      }

      function closeCatalogAndGoHome() {
        console.log("🏠 Cerrando catálogo y volviendo al inicio...");
        closeCatalogSPA();
        setTimeout(() => {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        }, 300);
      }

      function filterProducts(category) {
        // Actualizar botones activos
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Activar el botón clickeado
        const clickedButton = document.querySelector(
          `[onclick="filterProducts('${category}')"]`
        );
        if (clickedButton) {
          clickedButton.classList.add("active");
        }

        // Renderizar productos filtrados
        renderProducts(category);
      }

      function renderProducts(category) {
        console.log("🔄 Renderizando productos para categoría:", category);

        const grid = document.getElementById("productsGrid");
        if (!grid) {
          console.error("❌ No se encontró el elemento productsGrid");
          return;
        }

        let filteredProducts = catalogoEscaleras;

        if (category !== "todos") {
          // Mapeo de categorías agrupadas a categorías de productos
          const categoryMap = {
            "extension-fibra": ["fibra-extension", "aluminio-extension"],
            "tijera-fibra": ["fibra-tijera", "aluminio-tijera"],
            "escalera-cuerpo-fibra": ["fibra-sencilla", "aluminio-sencilla"],
            "escalera-plataforma": ["fibra-caballete"],
            accesorios: ["accesorios"],
          };

          const categoriesToFilter = categoryMap[category] || [category];
          filteredProducts = catalogoEscaleras.filter((producto) =>
            categoriesToFilter.includes(producto.category)
          );
          console.log(`📊 Productos filtrados: ${filteredProducts.length}`);
        } else {
          console.log(
            `📊 Mostrando todos los productos: ${filteredProducts.length}`
          );
        }

        // Limpiar grid
        grid.innerHTML = "";

        // Determinar clase CSS según cantidad de productos
        grid.className = "spa-products-grid";
        if (filteredProducts.length === 1) {
          grid.classList.add("single-item");
        } else if (filteredProducts.length <= 3) {
          grid.classList.add("few-items");
        } else {
          grid.classList.add("many-items");
        }

        if (filteredProducts.length === 0) {
          grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: #666;">
                        <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem; color: #2d5016;"></i>
                        <h3>No se encontraron productos</h3>
                        <p>No hay productos disponibles para esta categoría</p>
                    </div>
                `;
          return;
        }

        filteredProducts.forEach((producto) => {
          try {
            const productCard = createProductCard(producto);
            grid.appendChild(productCard);
          } catch (error) {
            console.error(
              "❌ Error creando tarjeta para producto:",
              producto,
              error
            );
          }
        });

        console.log("🎉 Productos renderizados exitosamente");
      }

      // Mapping de imágenes reales del catálogo
      const imageMapping = {
        1: "https://i.imgur.com/wxfo7mf.png", // Escalera Fibra de Vidrio - Extensión Dos Cuerpos (ACTUALIZADA)
        2: "https://i.imgur.com/Ia8HCVJ.png", // Escalera Fibra de Vidrio - Extensión Tres Cuerpos
        3: "https://i.imgur.com/yxx6qra.png", // Escalera Fibra de Vidrio - Caballete (ACTUALIZADA)
        4: "https://i.imgur.com/aAVZM6S.png", // Escalera Fibra de Vidrio - Sencilla Industrial
        5: "https://i.imgur.com/aAVZM6S.png", // Escalera Fibra de Vidrio - Sencilla Comercial
        6: "https://i.imgur.com/Ll9DNdk.jpeg", // Escalera Fibra de Vidrio - Tijera Industrial
        7: "https://i.imgur.com/iU0aZBs.png", // Escalera Fibra de Vidrio - Tijera Comercial
        8: "https://i.imgur.com/6Lnh1gF.png", // Escalera Aluminio - Extensión Dos Cuerpos (ACTUALIZADA)
        9: "https://i.imgur.com/cdx39YL.png", // Escalera Aluminio - Sencilla Industrial
        10: "https://i.imgur.com/6MCwR6H.png", // Escalera Aluminio - Tijera Industrial
        11: "https://i.imgur.com/yi61plI.png", // Escalera Aluminio - Tijera Comercial
        12: "https://i.imgur.com/6SrgIgK.png", // Accesorios para Escaleras
      };

      function createProductCard(producto) {
        if (!producto) {
          console.error("❌ Producto indefinido en createProductCard");
          return document.createElement("div");
        }

        const card = document.createElement("div");
        card.className = "spa-product-card-detailed";

        // Crear tabla de referencias
        let tablaPasos = "";
        if (producto.referencias && producto.referencias.length > 0) {
          const rows = producto.referencias
            .map(
              (ref) => `
                    <tr>
                        <td>${ref.ref}</td>
                        <td>${ref.metros}m</td>
                    </tr>
                `
            )
            .join("");

          tablaPasos = `
                    <div class="referencias-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>REFERENCIA</th>
                                    <th>METROS</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${rows}
                            </tbody>
                        </table>
                    </div>
                `;
        }

        card.innerHTML = `
                <div class="spa-product-image">
                    <img src="${producto.image}" alt="${producto.name}" class="product-img">
                </div>
                <div class="spa-product-info-detailed">
                    <h3 class="product-title">${producto.name}</h3>
                    <div class="product-codigo">Código: <strong>${producto.codigo}</strong></div>

                    ${tablaPasos}

                    <div class="product-specs">
                        <div class="spec-item">
                            <strong>Material:</strong> ${producto.material}
                        </div>
                        <div class="spec-item">
                            <strong>Capacidad:</strong> ${producto.capacidad}
                        </div>
                        <div class="spec-item">
                            <strong>Tipo:</strong> ${producto.tipo}
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="btn-consultar" onclick="consultarProducto('${producto.codigo}', '${producto.name}')">
                            <i class="fab fa-whatsapp"></i> Consultar
                        </button>
                        <button class="btn-cotizar" onclick="cotizarProducto('${producto.codigo}', '${producto.name}')">
                            <i class="fas fa-calculator"></i> Cotizar
                        </button>
                    </div>
                </div>
            `;

        return card;
      }

      // Funciones de consulta y cotización
      function consultarProducto(codigo, nombre) {
        // Guardar datos del producto para consulta
        pendingContactData = {
          type: "consultar",
          productName: nombre,
          productPrice: "",
          productCode: codigo,
        };
        // Abrir modal de selección de sede
        openSedeModal();
      }

      function cotizarProducto(codigo, nombre) {
        // Guardar datos del producto para cotización
        pendingContactData = {
          type: "cotizar",
          productName: nombre,
          productPrice: "",
          productCode: codigo,
        };
        // Abrir modal de selección de sede
        openSedeModal();
      }

      // LEGACY: Funciones antiguas para compatibilidad con productos estáticos
      function _legacyConsultarProducto(codigo, nombre) {
        const message = `Hola, estoy interesado en:

📦 *${nombre}*
🔑 Código: ${codigo}

¿Podrían enviarme información completa sobre:
• Especificaciones técnicas detalladas
• Referencias disponibles
• Disponibilidad actual
• Tiempos de entrega

Gracias.`;

        const whatsappURL = `https://wa.me/573008611886?text=${encodeURIComponent(
          message
        )}`;
        window.open(whatsappURL, "_blank");
      }

      function _legacyCotizarProducto(codigo, nombre) {
        const message = `Hola, solicito cotización para:

📦 *${nombre}*
🔑 Código: ${codigo}

Por favor, envíenme:
• Precios por referencia
• Descuentos por volumen
• Formas de pago disponibles
• Costos de envío

Gracias.`;

        const whatsappURL = `https://wa.me/573008611886?text=${encodeURIComponent(
          message
        )}`;
        window.open(whatsappURL, "_blank");
      }
      // Variables globales para el modal de sede
      let pendingContactData = {
        type: "", // 'consultar' o 'cotizar'
        productName: "",
        productPrice: "",
        productCode: "",
      };

      function contactProduct(productName, productPrice, productCode) {
        // Guardar datos del producto
        pendingContactData = {
          type: "consultar",
          productName: productName,
          productPrice: productPrice,
          productCode: productCode,
        };
        // Abrir modal de selección de sede
        openSedeModal();
      }

      function showTechnicalInfo(productId) {
        const producto = catalogoEscaleras.find((p) => p.id === productId);
        if (!producto) return;

        const modal = document.createElement("div");
        modal.className = "tech-info-modal";
        modal.innerHTML = `
                <div class="tech-info-container">
                    <div class="tech-info-header">
                        <h3><i class="fas fa-cogs"></i> ${producto.type}</h3>
                        <button class="tech-close" onclick="closeTechInfo()">×</button>
                    </div>
                    <div class="tech-info-content">
                        <div class="tech-specifications">
                            <h4>Especificaciones:</h4>
                            <p>${producto.specifications}</p>
                        </div>
                        <div class="tech-details">
                            <h4>Información Técnica Detallada:</h4>
                            <pre>${producto.technicalInfo}</pre>
                        </div>
                    </div>
                    <button class="tech-close-btn" onclick="closeTechInfo()">Cerrar</button>
                </div>
            `;

        document.body.appendChild(modal);
        modal.style.display = "flex";
      }

      function closeTechInfo() {
        const modal = document.querySelector(".tech-info-modal");
        if (modal) {
          modal.remove();
        }
      }

      function contactWhatsApp(productId) {
        const producto = catalogoEscaleras.find((p) => p.id === productId);
        if (!producto) return;

        // Verificar si hay referencia seleccionada
        const selectedRef = document.querySelector(
          `input[name="ref-${productId}"]:checked`
        );

        let message;
        if (selectedRef) {
          const refData = selectedRef.value;
          const metros = selectedRef.dataset.metros;
          const pasos = selectedRef.dataset.pasos;
          message = producto.whatsappMessages.specific
            .replace("[REF]", refData)
            .replace("[METROS]", metros)
            .replace("[PASOS]", pasos);
        } else {
          message = producto.whatsappMessages.general;
        }

        const whatsappURL = `https://wa.me/573008611886?text=${encodeURIComponent(
          message
        )}`;
        window.open(whatsappURL, "_blank");
      }

      function openChatbot(productName, productPrice, productCode) {
        // Guardar datos del producto para cotización
        pendingContactData = {
          type: "cotizar",
          productName: productName || "Producto",
          productPrice: productPrice || "",
          productCode: productCode || "",
        };
        // Abrir modal de selección de sede
        openSedeModal();
      }

      // Funciones del modal de selección de sede
      function openSedeModal() {
        const modal = document.getElementById("sedeModal");
        if (modal) {
          modal.classList.add("active");
          document.body.style.overflow = "hidden";
        }
      }

      function closeSedeModal() {
        const modal = document.getElementById("sedeModal");
        if (modal) {
          modal.classList.remove("active");
          document.body.style.overflow = "auto";
        }
        // Limpiar datos pendientes
        pendingContactData = {
          type: "",
          productName: "",
          productPrice: "",
          productCode: "",
        };
      }

      function selectSedeForContact(sede) {
        const phones = {
          bogota: "573008611886",
          bucaramanga: "573181027047",
        };

        const sedeNames = {
          bogota: "Bogotá",
          bucaramanga: "Bucaramanga",
        };

        let message = "";

        if (pendingContactData.type === "consultar") {
          message = `Hola, estoy interesado en consultar sobre:

📦 *${pendingContactData.productName}*
${
  pendingContactData.productCode
    ? `🔑 Código: ${pendingContactData.productCode}`
    : ""
}
${
  pendingContactData.productPrice
    ? `💰 Precio: ${pendingContactData.productPrice}`
    : ""
}

¿Podrían enviarme información completa sobre:
• Especificaciones técnicas detalladas
• Referencias y medidas disponibles
• Disponibilidad actual
• Tiempos de entrega

Gracias.`;
        } else if (pendingContactData.type === "cotizar") {
          message = `Hola, solicito cotización formal para:

📦 *${pendingContactData.productName}*
${
  pendingContactData.productCode
    ? `🔑 Código: ${pendingContactData.productCode}`
    : ""
}
${
  pendingContactData.productPrice
    ? `💰 Precio referencia: ${pendingContactData.productPrice}`
    : ""
}

Por favor, envíenme:
• Precios por referencia y medida
• Descuentos por volumen
• Formas de pago disponibles
• Costos y tiempos de envío

Gracias.`;
        }

        const whatsappURL = `https://wa.me/${
          phones[sede]
        }?text=${encodeURIComponent(message)}`;
        window.open(whatsappURL, "_blank");

        // Cerrar el modal
        closeSedeModal();
      }

      // Cerrar modal al hacer clic fuera de él
      document.addEventListener("click", function (event) {
        const modal = document.getElementById("sedeModal");
        if (modal && event.target === modal) {
          closeSedeModal();
        }
      });

      // Navegación suave
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            const headerOffset = 120;
            const elementPosition = target.offsetTop;
            const offsetPosition = elementPosition - headerOffset;

            window.scrollTo({
              top: offsetPosition,
              behavior: "smooth",
            });
          }
        });
      });

      // Cerrar catálogo con tecla ESC
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          closeCatalogSPA();
        }
      });

      // ===================================
      // CHATBOT AI - Sistema de Inteligencia Artificial Simulada
      // ===================================
      // ESCALERAS FERRE - BASE DE CONOCIMIENTOS COMPLETA
      // ===================================

      const EscalerasFerreCatalog = {
        products: {
          fibraExtensionDos: {
            name: "Escalera Fibra de Vidrio - Extensión Dos Cuerpos",
            category: "Fibra de Vidrio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA - Peldaños Tipo D",
            references: [
              "EF 5,00 (16 pasos - 5.00m - Peso: 18.5kg)",
              "EF 6,00 (20 pasos - 6.00m - Peso: 22.0kg)",
              "EF 7,40 (24 pasos - 7.40m - Peso: 26.0kg)",
              "EF 8,60 (28 pasos - 8.60m - Peso: 30.0kg)",
              "EF 10,0 (32 pasos - 10.0m - Peso: 33.0kg)",
              "EF 11,0 (36 pasos - 11.0m - Peso: 35.0kg)",
              "EF 12,0 (40 pasos - 12.0m - Peso: 36.0kg)",
            ],
            features:
              "Aislamiento eléctrico, resistente a corrosión y UV, peldaños antideslizantes",
          },

          fibraExtensionTres: {
            name: "Escalera Fibra de Vidrio - Extensión Tres Cuerpos",
            category: "Fibra de Vidrio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA - Peldaños Tipo D",
            references: [
              "EF3 2.40/7.20 (24 pasos - 2.40m cerrada/7.20m extendida)",
              "EF3 3.00/9.20 (30 pasos - 3.00m cerrada/9.20m extendida)",
            ],
            features:
              "Máximo alcance, sistema de poleas triple, ideal para alturas extremas",
          },

          fibraSencillaIndustrial: {
            name: "Escalera Fibra de Vidrio - Sencilla Industrial",
            category: "Fibra de Vidrio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA - Peldaños Tipo D - 1 Solo Cuerpo",
            references: [
              "SF 1,50 (5 pasos - 1.50m)",
              "SF 1,80 (6 pasos - 1.80m)",
              "SF 2,10 (7 pasos - 2.10m)",
              "SF 2,40 (8 pasos - 2.40m)",
              "SF 2,70 (9 pasos - 2.70m)",
              "SF 3,00 (10 pasos - 3.00m)",
              "SF 3,60 (12 pasos - 3.60m)",
              "SF 4,20 (14 pasos - 4.20m)",
              "SF 4,80 (16 pasos - 4.80m)",
              "SF 6,00 (20 pasos - 6.00m)",
            ],
          },

          fibraSencillaComercial: {
            name: "Escalera Fibra de Vidrio - Sencilla Comercial",
            category: "Fibra de Vidrio",
            type: "Comercial - Capacidad 114kg (250 libras) - Tipo I - Peldaños Tipo D",
            references: ["SFL 1,50 a SFL 3,60 (5 a 12 pasos - 1.50m a 3.60m)"],
          },

          fibraTijeraIndustrial: {
            name: "Escalera Fibra de Vidrio - Tijera Industrial",
            category: "Fibra de Vidrio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA",
            references: ["TF 0,60 a TF 6,00 (2 a 20 pasos - 0.60m a 6.00m)"],
          },

          fibraTijeraComercial: {
            name: "Escalera Fibra de Vidrio - Tijera Comercial",
            category: "Fibra de Vidrio",
            type: "Comercial - Capacidad 114kg (250 libras) - Tipo I",
            references: ["TFL 0,60 a TFL 3,60 (2 a 12 pasos - 0.60m a 3.60m)"],
          },

          fibraCaballete: {
            name: "Escalera Fibra de Vidrio - Caballete",
            category: "Fibra de Vidrio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA",
            references: ["EFC 5,00 a EFC 10,0 (16 a 32 pasos - 5.00m a 10.0m)"],
          },

          aluminioExtension: {
            name: "Escalera Aluminio - Extensión Dos Cuerpos",
            category: "Aluminio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA",
            references: ["EA 5,00 a EA 12,0 (16 a 40 pasos - 5.00m a 12.0m)"],
          },

          aluminioSencilla: {
            name: "Escalera Aluminio - Sencilla Industrial",
            category: "Aluminio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA",
            references: ["SA 1,50 a SA 6,00 (5 a 20 pasos - 1.50m a 6.00m)"],
          },

          aluminioTijeraIndustrial: {
            name: "Escalera Aluminio - Tijera Industrial",
            category: "Aluminio",
            type: "Industrial - Capacidad 136kg (300 libras) - Tipo IA",
            references: ["TA 0,60 a TA 6,00 (2 a 20 pasos - 0.60m a 6.00m)"],
          },

          aluminioTijeraComercial: {
            name: "Escalera Aluminio - Tijera Comercial",
            category: "Aluminio",
            type: "Comercial - Capacidad 102kg (225 libras) - Tipo II",
            references: ["TAL 0,60 a TAL 3,00 (2 a 10 pasos - 0.60m a 3.00m)"],
          },

          accesorios: {
            name: "Accesorios para Escaleras",
            category: "Accesorios",
            items: [
              "Bincha en fibra/hierro",
              "Gancho bomberos",
              "Zapata niveladora",
              "Plataforma aluminio",
              "Zapata planchón",
              "Porta herramienta",
              "Ruedas traseras",
            ],
          },
        },

        certifications: "ISO 9001, ANSI 14.5, EN131, OSHA",
      };

      // ============================================
      // CHATBOT ULTRA INTELIGENTE CON NLP
      // Sistema Avanzado que Entiende Escritura Real
      // ============================================

      const ChatbotUltraInteligente = {
        conversationHistory: [],
        context: {
          lastTopic: null,
          extractedHeight: null,
          extractedMaterial: null,
          extractedType: null,
          extractedTime: null,
          messageCount: 0,
          waitingForDetails: false,
        },

        // ============================================
        // NORMALIZACIÓN DE TEXTO
        // ============================================
        normalizeText(text) {
          return text
            .toLowerCase()
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "") // Quitar tildes
            .replace(/[¿?¡!.,;:]/g, "") // Quitar puntuación
            .trim();
        },

        // ============================================
        // EXTRACTOR DE ENTIDADES
        // ============================================
        extractEntities(text) {
          const normalized = this.normalizeText(text);
          const entities = {
            height: null,
            material: null,
            type: null,
            time: null,
            action: null,
          };

          // ALTURA: 10m, 10 m, 10 metros, diez metros
          const heightPatterns = [
            /(\d+)\s*m(?:etros?)?/,
            /(\d+)\s*mts?/,
            /altura.*?(\d+)/,
            /(uno|dos|tres|cuatro|cinco|seis|siete|ocho|nueve|diez|once|doce)\s*m/,
          ];

          for (let pattern of heightPatterns) {
            const match = normalized.match(pattern);
            if (match) {
              entities.height = this.convertWordToNumber(match[1]) || match[1];
              break;
            }
          }

          // MATERIAL: aluminio, fibra
          if (/aluminio|alumino|alumnio/.test(normalized)) {
            entities.material = "aluminio";
          }
          if (/fibra|fivra|vidrio/.test(normalized)) {
            entities.material = "fibra";
          }

          // TIPO: tijera, extension, sencilla, caballete
          if (/tijera|tijeras|plegable/.test(normalized)) {
            entities.type = "tijera";
          }
          if (
            /extension|extensible|extender|dos cuerpos|tres cuerpos/.test(
              normalized
            )
          ) {
            entities.type = "extension";
          }
          if (/sencilla|simple|recta|un cuerpo/.test(normalized)) {
            entities.type = "sencilla";
          }
          if (/caballete|doble/.test(normalized)) {
            entities.type = "caballete";
          }

          // TIEMPO: dia, semana, mes, 15 dias
          const timePatterns = [
            /(\d+)\s*dia/,
            /(\d+)\s*semana/,
            /(\d+)\s*mes/,
            /por\s+(dia|semana|mes)/,
          ];

          for (let pattern of timePatterns) {
            const match = normalized.match(pattern);
            if (match) {
              entities.time = match[0];
              break;
            }
          }

          // ACCIÓN: comprar, alquilar, ver, contactar
          if (/comprar|adquirir|conseguir/.test(normalized)) {
            entities.action = "comprar";
          }
          if (/alquilar|alquiler|rentar|arrendar/.test(normalized)) {
            entities.action = "alquilar";
          }
          if (
            /ver|mirar|mostrar|enseñar|catalogo|informacion/.test(normalized)
          ) {
            entities.action = "ver_info";
          }
          if (/contactar|hablar|comunicar|asesor|vendedor/.test(normalized)) {
            entities.action = "contactar";
          }

          return entities;
        },

        convertWordToNumber(word) {
          const numbers = {
            uno: 1,
            dos: 2,
            tres: 3,
            cuatro: 4,
            cinco: 5,
            seis: 6,
            siete: 7,
            ocho: 8,
            nueve: 9,
            diez: 10,
            once: 11,
            doce: 12,
          };
          return numbers[word] || null;
        },

        // ============================================
        // DETECTOR DE INTENCIÓN ULTRA INTELIGENTE
        // ============================================
        detectIntent(message) {
          const normalized = this.normalizeText(message);
          const entities = this.extractEntities(message);

          // Actualizar contexto con entidades extraídas
          if (entities.height) this.context.extractedHeight = entities.height;
          if (entities.material)
            this.context.extractedMaterial = entities.material;
          if (entities.type) this.context.extractedType = entities.type;
          if (entities.time) this.context.extractedTime = entities.time;

          // ========== RADICADO PQRS ==========
          // Detectar formato: EF-YYYY-DDMMHHMM (ej: EF-2025-18121530)
          const radicadoMatch = message.match(/EF-\d{4}-\d{8}/);
          if (radicadoMatch) {
            return this.responses.radicadoPQRS(radicadoMatch[0]);
          }

          // ========== SALUDOS ==========
          if (
            /^(hola|buenas|buenos|hey|hi|alo|que tal)/.test(normalized) &&
            normalized.length < 20
          ) {
            return this.responses.greeting();
          }

          // ========== CÓMO ESTÁS ==========
          if (/como estas|como va|todo bien|que tal/.test(normalized)) {
            return this.responses.howAreYou();
          }

          // ========== CONTACTAR / ASESOR ==========
          if (
            /contactar|hablar|comunicar|asesor|vendedor|persona/.test(
              normalized
            )
          ) {
            return this.responses.contactar();
          }

          // ========== PQRS (Peticiones, Quejas, Reclamos, Sugerencias) ==========
          if (
            /pqrs|pqr|peticion|peticiones|queja|quejas|reclamo|reclamos|reclamacion|sugerencia|sugerencias|quejarme|reclamar|sugerir|problema|problemas|inconveniente|inconvenientes|felicitar|denuncia|denuncias|reclmo|reclamoo|keja|pregunta|recla|quej|sugeren|proble/.test(
              normalized
            )
          ) {
            return this.responses.pqrs();
          }

          // ========== VER CATÁLOGO / INFORMACIÓN ==========
          if (
            /ver|mostrar|ensenar|catalogo|informacion|productos|tienen que/.test(
              normalized
            )
          ) {
            if (/precio|costo|valor|cuanto/.test(normalized)) {
              return this.responses.precios(entities);
            }
            return this.responses.verCatalogo();
          }

          // ========== ALQUILER ==========
          if (
            /alquil|rent|arren/.test(normalized) ||
            entities.action === "alquilar"
          ) {
            return this.responses.alquiler(entities);
          }

          // ========== PRECIOS ==========
          if (/precio|costo|valor|cuanto|cotiza/.test(normalized)) {
            return this.responses.precios(entities);
          }

          // ========== ALTURA ESPECÍFICA ==========
          if (entities.height && entities.height >= 1) {
            return this.responses.alturaEspecifica(entities);
          }

          // ========== MATERIAL ESPECÍFICO ==========
          if (entities.material && !entities.height) {
            return this.responses.materialEspecifico(entities);
          }

          // ========== TIPO ESPECÍFICO ==========
          if (entities.type && !entities.height) {
            return this.responses.tipoEspecifico(entities);
          }

          // ========== CONSTRUCCIÓN / USO ==========
          if (/construccion|obra|edificio|trabajo/.test(normalized)) {
            return this.responses.paraConstruccion(entities);
          }

          if (/electric|cable|tension/.test(normalized)) {
            return this.responses.trabajoElectrico();
          }

          // ========== TIPOS DE ESCALERA ==========
          if (/que tipo|cuales tienen|tipos/.test(normalized)) {
            return this.responses.tiposGenerales();
          }

          // ========== DIFERENCIAS ==========
          if (/diferencia|cual es mejor/.test(normalized)) {
            if (/fibra.*aluminio|aluminio.*fibra/.test(normalized)) {
              return this.responses.fibraVsAluminio();
            }
            if (/tijera.*extension/.test(normalized)) {
              return this.responses.tijeraVsExtension();
            }
          }

          // ========== TAMAÑOS ==========
          if (/tamano|tamanos|medida|altura|size/.test(normalized)) {
            return this.responses.tamanos();
          }

          // ========== FALLBACK INTELIGENTE ==========
          return this.intelligentFallback(normalized, entities);
        },

        // ============================================
        // RESPUESTAS DINÁMICAS
        // ============================================
        responses: {
          greeting() {
            const greetings = [
              "¡Hola! Soy Lia de Escaleras Ferre 😊 ¿En qué te puedo ayudar?",
              "¡Buenas! Soy Lia, asistente de Escaleras Ferre. ¿Qué necesitas?",
              "¡Hola! Aquí Lia. ¿Buscas escaleras? Cuéntame qué necesitas.",
            ];
            return greetings[Math.floor(Math.random() * greetings.length)];
          },

          howAreYou() {
            return "¡Muy bien, gracias! 😊 Lista para ayudarte con escaleras. ¿Qué necesitas?";
          },

          contactar() {
            return "¡Claro! Te conecto con un asesor experto por WhatsApp 📱\n\nEllos pueden ayudarte con:\n✅ Cotizaciones personalizadas\n✅ Disponibilidad inmediata\n✅ Opciones de pago\n\n¿Prefieres **Bogotá** o **Bucaramanga**?";
          },

          pqrs() {
            // Este método debe mostrar el botón para abrir el formulario PQRS
            setTimeout(() => {
              const messagesContainer = document.getElementById("chatbot-messages");
              const pqrsDiv = document.createElement("div");
              pqrsDiv.className = "message bot-message contact-options";
              pqrsDiv.innerHTML = `
                <div class="bot-message-avatar">
                  <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
                </div>
                <div class="bot-message-content">
                  <p><strong>Sistema PQRS</strong></p>
                  <p style="margin: 10px 0; font-size: 0.9rem;">Estamos aquí para ayudarte con:</p>
                  <ul style="margin: 10px 0; padding-left: 20px; font-size: 0.9rem;">
                    <li>📝 Peticiones</li>
                    <li>😟 Quejas</li>
                    <li>⚠️ Reclamos</li>
                    <li>💡 Sugerencias</li>
                  </ul>
                  <button onclick="openPQRS()" class="whatsapp-btn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-file-alt"></i> Abrir Formulario PQRS
                  </button>
                </div>
              `;
              messagesContainer.appendChild(pqrsDiv);
              messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 500);

            return "Entiendo que deseas presentar una **Petición, Queja, Reclamo o Sugerencia** 📋\n\nTu opinión es muy importante para nosotros. Te abriremos nuestro formulario oficial PQRS.";
          },

          radicadoPQRS(radicado) {
            // Este método redirige a WhatsApp con el radicado
            setTimeout(() => {
              const messagesContainer = document.getElementById("chatbot-messages");
              const whatsappDiv = document.createElement("div");
              whatsappDiv.className = "message bot-message contact-options";
              whatsappDiv.innerHTML = `
                <div class="bot-message-avatar">
                  <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
                </div>
                <div class="bot-message-content">
                  <p><strong>Seguimiento PQRS</strong></p>
                  <p style="margin: 10px 0; font-size: 0.9rem;">Te conectaré con un asesor por WhatsApp para hacer seguimiento a tu solicitud con radicado:</p>
                  <p style="font-weight: 600; color: var(--color-accent); font-size: 1.1rem; margin: 10px 0;">${radicado}</p>
                  <div class="whatsapp-options">
                    <button onclick="contactarRadicadoSede('bogota', '${radicado}')" class="whatsapp-btn">
                      <i class="fab fa-whatsapp"></i> Bogotá
                    </button>
                    <button onclick="contactarRadicadoSede('bucaramanga', '${radicado}')" class="whatsapp-btn">
                      <i class="fab fa-whatsapp"></i> Bucaramanga
                    </button>
                  </div>
                </div>
              `;
              messagesContainer.appendChild(whatsappDiv);
              messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 500);

            return `Perfecto, veo que tienes el radicado **${radicado}** 📋\n\nTe conectaré con un asesor por WhatsApp para hacer seguimiento a tu PQRS.\n\n¿A qué sede prefieres contactar?`;
          },

          verCatalogo() {
            return "Tenemos **4 tipos principales** de escaleras:\n\n🔸 **EXTENSIÓN** → Hasta 12m (grandes alturas)\n🔸 **TIJERA** → 0.6-6m (plegable, autosoportada)\n🔸 **SENCILLA** → 1.5-6m (ligera, 1 cuerpo)\n🔸 **CABALLETE** → 5-10m (doble acceso)\n\nTodas en **fibra de vidrio** o **aluminio**.\n\n¿Qué altura necesitas?";
          },

          alquiler(entities) {
            if (entities.height && entities.time) {
              return `Perfecto, necesitas una escalera de **${entities.height}m** por **${entities.time}** en alquiler.\n\nEl servicio incluye:\n✅ Entrega e instalación\n✅ Recogida sin costo\n✅ Mantenimiento incluido\n\nTe conecto con un asesor para cotización exacta 📱`;
            }
            if (entities.height) {
              return `Sí, tenemos alquiler de escaleras de **${entities.height}m**.\n\n¿Por cuánto tiempo la necesitas? (días, semanas o meses)`;
            }
            return "Sí, tenemos **servicio de alquiler completo**:\n\n🔸 Por día, semana o mes\n🔸 Incluye entrega e instalación\n🔸 Recogida sin costo adicional\n\n¿Qué altura necesitas y por cuánto tiempo?";
          },

          precios(entities) {
            let response = "Para darte un precio exacto necesito saber:\n\n";
            const missing = [];

            if (
              !entities.material &&
              !ChatbotUltraInteligente.context.extractedMaterial
            ) {
              missing.push("• Material: **fibra de vidrio** o **aluminio**");
            }
            if (
              !entities.type &&
              !ChatbotUltraInteligente.context.extractedType
            ) {
              missing.push("• Tipo: **tijera**, **extensión** o **sencilla**");
            }
            if (
              !entities.height &&
              !ChatbotUltraInteligente.context.extractedHeight
            ) {
              missing.push("• Altura: ¿cuántos metros?");
            }

            if (missing.length === 0) {
              const mat =
                entities.material ||
                ChatbotUltraInteligente.context.extractedMaterial;
              const tipo =
                entities.type || ChatbotUltraInteligente.context.extractedType;
              const altura =
                entities.height ||
                ChatbotUltraInteligente.context.extractedHeight;

              return `Perfecto! Buscas:\n\n✅ Material: **${mat}**\n✅ Tipo: **${tipo}**\n✅ Altura: **${altura}m**\n\nTe conecto con un asesor para cotización actualizada por WhatsApp 📱`;
            }

            response += missing.join("\n");
            response += "\n\nCuéntame y te ayudo 😊";
            return response;
          },

          alturaEspecifica(entities) {
            const altura = entities.height;
            const material =
              entities.material ||
              ChatbotUltraInteligente.context.extractedMaterial;
            const tipo =
              entities.type || ChatbotUltraInteligente.context.extractedType;

            let response = "";

            if (altura <= 2) {
              response = `Para **${altura}m** te recomiendo:\n\n🔸 **Tijera** (plegable, autosoportada)\n🔸 **Sencilla** (liviana, 1 cuerpo)\n\n`;
            } else if (altura <= 6) {
              response = `Para **${altura}m** tienes opciones:\n\n🔸 **Extensión** (más alcance)\n🔸 **Tijera** (autosoportada)\n\n`;
            } else if (altura <= 12) {
              response = `Para **${altura}m** necesitas **escalera extensión**:\n\n🔸 Capacidad industrial 300lb\n🔸 Sistema de poleas\n\n`;
            } else {
              response = `Para **${altura}m** te recomendaría:\n\n🔸 Escalera extensión 3 cuerpos (hasta 9.2m)\n🔸 O consultar opciones especiales\n\n`;
            }

            if (!material) {
              response +=
                "¿Prefieres **fibra de vidrio** (trabajo eléctrico) o **aluminio** (más liviana)?";
            } else {
              response += `Perfecto, en **${material}**. Te conecto con asesor para cotización 📱`;
            }

            return response;
          },

          materialEspecifico(entities) {
            const material = entities.material;

            if (material === "aluminio") {
              return "Aluminio es excelente por:\n\n✅ **Más liviana** (30% menos peso)\n✅ **Más económica**\n✅ Fácil transporte\n\n⚠️ NO usar cerca de cables eléctricos\n\n¿Qué **altura** necesitas?";
            } else {
              return "Fibra de vidrio es ideal por:\n\n✅ **Aislante eléctrico** (NO conduce)\n✅ Resistente a corrosión y UV\n✅ Certificada para trabajo eléctrico\n\n¿Qué **altura** necesitas?";
            }
          },

          tipoEspecifico(entities) {
            const tipo = entities.type;

            const tipos = {
              tijera:
                "Las **tijeras** son:\n\n✅ Plegables y autosoportadas\n✅ Ideales para espacios reducidos\n✅ Desde 0.6m hasta 6m\n\n¿Qué **altura** necesitas?",
              extension:
                "Las **extensiones** son:\n\n✅ Para grandes alturas (hasta 12m)\n✅ Sistema de poleas\n✅ Se apoyan en pared\n\n¿Qué **altura** necesitas?",
              sencilla:
                "Las **sencillas** son:\n\n✅ Livianas y fáciles de mover\n✅ 1 solo cuerpo (1.5m-6m)\n✅ Económicas\n\n¿Qué **altura** necesitas?",
              caballete:
                "Las **caballetes** son:\n\n✅ Acceso por ambos lados\n✅ Muy estables (5m-10m)\n✅ Ideales para 2 personas\n\n¿Qué **altura** necesitas?",
            };

            return tipos[tipo] || this.verCatalogo();
          },

          paraConstruccion(entities) {
            const altura =
              entities.height ||
              ChatbotUltraInteligente.context.extractedHeight;

            let response =
              "Para **construcción** recomiendo:\n\n🔸 **Extensión aluminio** (liviana, fácil mover)\n🔸 Capacidad industrial 300lb\n\n";

            if (altura) {
              response += `Para **${altura}m** te sirve perfectamente. ¿La necesitas en **fibra** o **aluminio**?`;
            } else {
              response += "¿Qué **altura** necesitas en la obra?";
            }

            return response;
          },

          trabajoElectrico() {
            return "Para **trabajo eléctrico** SOLO recomiendo **FIBRA DE VIDRIO**:\n\n✅ 100% aislante eléctrico\n✅ NO conduce electricidad\n✅ Certificada para trabajo en vivo\n✅ Segura hasta 30kV\n\n¿Qué **altura** necesitas?";
          },

          tiposGenerales() {
            return "Tenemos **4 tipos** de escaleras:\n\n🔸 **EXTENSIÓN** → Hasta 12m (2 o 3 cuerpos)\n🔸 **TIJERA** → 0.6-6m (plegable)\n🔸 **SENCILLA** → 1.5-6m (1 cuerpo)\n🔸 **CABALLETE** → 5-10m (doble acceso)\n\nTodas en **fibra** o **aluminio**. ¿Cuál te interesa?";
          },

          fibraVsAluminio() {
            return "**FIBRA vs ALUMINIO:**\n\n🔸 **FIBRA DE VIDRIO**\n✅ Aislante eléctrico\n✅ Más durable\n✅ Uso eléctrico/industrial\n❌ Más pesada\n\n🔸 **ALUMINIO**\n✅ Más liviana (30%)\n✅ Más económica\n✅ Uso general\n❌ Conduce electricidad\n\n¿Para qué tipo de trabajo?";
          },

          tijeraVsExtension() {
            return "**TIJERA vs EXTENSIÓN:**\n\n🔸 **TIJERA**\n✅ Autosoportada\n✅ Plegable\n✅ Hasta 6m\n✅ Ideal interiores\n\n🔸 **EXTENSIÓN**\n✅ Hasta 12m\n✅ Se apoya en pared\n✅ Más alcance\n✅ Ideal exteriores\n\n¿Qué altura necesitas?";
          },

          tamanos() {
            return "Tenemos escaleras desde **0.6m hasta 12m**:\n\n📏 **Chicas**: 0.6-2m (hogar)\n📏 **Medianas**: 2-6m (comercial)\n📏 **Grandes**: 6-12m (industrial)\n\n¿Qué **altura** específica necesitas?";
          },
        },

        // ============================================
        // FALLBACK ULTRA INTELIGENTE
        // ============================================
        intelligentFallback(normalized, entities) {
          // Si tiene entidades pero mensaje incompleto
          if (entities.height || entities.material || entities.type) {
            let response = "Ok, entiendo que buscas:\n\n";
            const parts = [];

            if (entities.height)
              parts.push(`✅ Altura: **${entities.height}m**`);
            if (entities.material)
              parts.push(`✅ Material: **${entities.material}**`);
            if (entities.type) parts.push(`✅ Tipo: **${entities.type}**`);

            response += parts.join("\n") + "\n\n";

            const missing = [];
            if (!entities.material && !this.context.extractedMaterial)
              missing.push("el material (fibra o aluminio)");
            if (!entities.type && !this.context.extractedType)
              missing.push("el tipo (tijera, extensión, sencilla)");
            if (!entities.height && !this.context.extractedHeight)
              missing.push("la altura");

            if (missing.length > 0) {
              response += `Solo me falta saber **${missing.join(
                " y "
              )}** para recomendarte la mejor opción 😊`;
            } else {
              response += "Te conecto con un asesor para cotización exacta 📱";
            }

            return response;
          }

          // Fallback general
          return "Puedo ayudarte con:\n\n📏 **Alturas** disponibles\n🔧 **Tipos** (tijera, extensión, sencilla)\n⚙️ **Materiales** (fibra o aluminio)\n💰 **Precios** y cotizaciones\n🏢 **Alquiler** completo\n\n¿Qué te interesa saber?";
        },

        // ============================================
        // FUNCIÓN PRINCIPAL
        // ============================================
        async generateResponse(message) {
          this.context.messageCount++;

          const response = this.detectIntent(message);

          this.conversationHistory.push({
            role: "user",
            content: message,
          });
          this.conversationHistory.push({
            role: "assistant",
            content: response,
          });

          return response;
        },

        shouldOfferWhatsApp() {
          return this.context.messageCount >= 3;
        },
      };

      // ============================================
      // CONTROLADOR UI
      // ============================================
      const ChatbotController = {
        isOpen: false,
        isTyping: false,

        init() {
          this.bindEvents();
        },

        bindEvents() {
          document
            .getElementById("chatbot-toggle")
            .addEventListener("click", () => {
              this.toggleChatbot();
            });

          document
            .getElementById("chatbot-close")
            .addEventListener("click", () => {
              this.closeChatbot();
            });

          document
            .getElementById("chatbot-send")
            .addEventListener("click", () => {
              this.sendMessage();
            });

          document
            .getElementById("chatbot-input")
            .addEventListener("keypress", (e) => {
              if (e.key === "Enter") this.sendMessage();
            });

          document.querySelectorAll(".quick-question").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              this.handleQuickQuestion(e.target.dataset.question);
            });
          });
        },

        toggleChatbot() {
          this.isOpen = !this.isOpen;
          const window = document.getElementById("chatbot-window");
          const toggle = document.getElementById("chatbot-toggle");

          if (this.isOpen) {
            window.classList.add("active");
            toggle.classList.add("active");
          } else {
            window.classList.remove("active");
            toggle.classList.remove("active");
          }
        },

        closeChatbot() {
          this.isOpen = false;
          document.getElementById("chatbot-window").classList.remove("active");
          document.getElementById("chatbot-toggle").classList.remove("active");
        },

        async sendMessage() {
          const input = document.getElementById("chatbot-input");
          const message = input.value.trim();

          if (!message) return;

          this.addMessage(message, "user");
          input.value = "";

          await this.simulateTyping();

          const response = await ChatbotUltraInteligente.generateResponse(
            message
          );
          this.addMessage(response, "bot");

          if (ChatbotUltraInteligente.shouldOfferWhatsApp()) {
            await this.simulateTyping(1000);
            this.offerWhatsAppContact();
          }
        },

        async simulateTyping(delay = 1200) {
          this.isTyping = true;
          this.addTypingIndicator();

          await new Promise((resolve) => setTimeout(resolve, delay));

          this.removeTypingIndicator();
          this.isTyping = false;
        },

        addMessage(text, sender) {
          const messagesContainer = document.getElementById("chatbot-messages");
          const messageDiv = document.createElement("div");
          messageDiv.className = `message ${sender}-message`;

          const htmlText = text
            .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
            .replace(/\n/g, "<br>");

          if (sender === 'bot') {
            messageDiv.innerHTML = `
              <div class="bot-message-avatar">
                <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
              </div>
              <div class="bot-message-content">${htmlText}</div>
            `;
          } else {
            messageDiv.innerHTML = htmlText;
          }

          messagesContainer.appendChild(messageDiv);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        },

        addTypingIndicator() {
          const messagesContainer = document.getElementById("chatbot-messages");
          const typingDiv = document.createElement("div");
          typingDiv.className = "message bot-message typing-indicator";
          typingDiv.innerHTML = `
            <div class="bot-message-avatar">
              <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
            </div>
            <div class="bot-message-content">
              <span>Lia escribe</span><span class="dots">...</span>
            </div>
          `;
          typingDiv.id = "typing-indicator";

          messagesContainer.appendChild(typingDiv);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        },

        removeTypingIndicator() {
          const indicator = document.getElementById("typing-indicator");
          if (indicator) indicator.remove();
        },

        offerWhatsAppContact() {
          const messagesContainer = document.getElementById("chatbot-messages");
          const contactDiv = document.createElement("div");
          contactDiv.className = "message bot-message contact-options";
          contactDiv.innerHTML = `
            <div class="bot-message-avatar">
              <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
            </div>
            <div class="bot-message-content">
              <p>¿Te conecto con un asesor para cotización exacta?</p>
              <div class="whatsapp-options">
                  <button onclick="openWhatsAppSede('bogota')" class="whatsapp-btn">
                      <i class="fab fa-whatsapp"></i> Bogotá
                  </button>
                  <button onclick="openWhatsAppSede('bucaramanga')" class="whatsapp-btn">
                      <i class="fab fa-whatsapp"></i> Bucaramanga
                  </button>
              </div>
            </div>
        `;

          messagesContainer.appendChild(contactDiv);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        },

        handleQuickQuestion(type) {
          const questions = {
            precios: "¿Cuáles son los precios?",
            catalogo: "¿Qué tipos de escaleras tienen?",
            alquiler: "¿Hacen alquiler?",
            contacto: "Quiero hablar con un asesor",
          };

          const input = document.getElementById("chatbot-input");
          input.value = questions[type];
          this.sendMessage();
        },
      };

      window.openWhatsAppSede = function (sede) {
        const phones = { bogota: "573008611886", bucaramanga: "573181027047" };
        const message = `Hola, me gustaría recibir asesoría sobre escaleras. Vengo desde la web.`;
        window.open(
          `https://wa.me/${phones[sede]}?text=${encodeURIComponent(message)}`,
          "_blank"
        );
      };

      // Función para abrir chatbot con flujo de contacto
      window.abrirChatbotContacto = function () {
        // Abrir chatbot si no está abierto
        if (!ChatbotController.isOpen) {
          ChatbotController.toggleChatbot();
        }

        // Limpiar mensajes anteriores
        const messagesContainer = document.getElementById("chatbot-messages");
        messagesContainer.innerHTML = "";

        // Mensaje de bienvenida específico para contacto
        const welcomeDiv = document.createElement("div");
        welcomeDiv.className = "message bot-message";
        welcomeDiv.innerHTML = `
        <div class="bot-message-avatar">
          <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
        </div>
        <div class="bot-message-content">
          <p>¡Hola! Gracias por contactarnos 😊</p>
          <p>¿Con cuál de nuestras sedes te gustaría comunicarte?</p>
        </div>
    `;
        messagesContainer.appendChild(welcomeDiv);

        // Botones de selección de sede
        const sedeOptionsDiv = document.createElement("div");
        sedeOptionsDiv.className = "message bot-message sede-selection";
        sedeOptionsDiv.innerHTML = `
        <div class="bot-message-avatar">
          <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
        </div>
        <div class="bot-message-content">
          <div class="whatsapp-options">
              <button onclick="contactarSede('bogota')" class="whatsapp-btn-sede bogota">
                  <i class="fab fa-whatsapp"></i>
                  <div class="sede-info">
                      <strong>Bogotá (Virtual)</strong>
                      <span>Atención remota especializada</span>
                  </div>
              </button>
              <button onclick="contactarSede('bucaramanga')" class="whatsapp-btn-sede bucaramanga">
                <i class="fab fa-whatsapp"></i>
                <div class="sede-info">
                    <strong>Bucaramanga (Física)</strong>
                    <span>Cll 34 # 11-27 - Visitas presenciales</span>
                </div>
            </button>
          </div>
          <p style="margin-top: 15px; font-size: 0.9rem; color: #666;">
              También puedes continuar chateando aquí para más información 💬
          </p>
        </div>
    `;
        messagesContainer.appendChild(sedeOptionsDiv);

        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      };

      // Función para contactar sede específica
      window.contactarSede = function (sede) {
        const phones = {
          bogota: "573008611886",
          bucaramanga: "573181027047",
        };

        const messages = {
          bogota:
            "Hola, me gustaría recibir información sobre escaleras industriales. Me contacto desde la página web con la sede virtual de Bogotá.",
          bucaramanga:
            "Hola, me gustaría recibir información sobre escaleras industriales. Me contacto desde la página web para la sede física de Bucaramanga (Cll 34 # 11-27).",
        };

        const whatsappURL = `https://wa.me/${
          phones[sede]
        }?text=${encodeURIComponent(messages[sede])}`;
        window.open(whatsappURL, "_blank");
      };

      // Función para contactar con radicado PQRS
      window.contactarRadicadoSede = function (sede, radicado) {
        const phones = {
          bogota: "573008611886",
          bucaramanga: "573181027047",
        };

        const message = `Hola, necesito hacer seguimiento a mi solicitud PQRS.

📋 *Número de Radicado:* ${radicado}

Por favor, indíquenme el estado de mi solicitud.

Gracias.`;

        const whatsappURL = `https://wa.me/${phones[sede]}?text=${encodeURIComponent(message)}`;
        window.open(whatsappURL, "_blank");
      };

      document.addEventListener("DOMContentLoaded", () => {
        console.log("🤖 Chatbot Ultra Inteligente inicializado");
        ChatbotController.init();
      });

      // Animaciones de scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);
    </script>

    <script>
      // ============================================
      // SISTEMA PQRS - FUNCIONES
      // ============================================

      // Abrir modal PQRS
      function openPQRS() {
        const modal = document.getElementById('pqrsModal');
        if (modal) {
          modal.classList.add('active');
          document.body.style.overflow = 'hidden';

          // Reset form and show form, hide confirmation
          const form = document.getElementById('pqrsForm');
          const confirmacion = document.getElementById('pqrsConfirmacion');
          if (form) form.style.display = 'block';
          if (confirmacion) confirmacion.style.display = 'none';
          if (form) form.reset();
        }
      }

      // Cerrar modal PQRS
      function closePQRS() {
        const modal = document.getElementById('pqrsModal');
        if (modal) {
          modal.classList.remove('active');
          document.body.style.overflow = 'auto';

          // Reset form
          const form = document.getElementById('pqrsForm');
          if (form) form.reset();
        }
      }

      // Generar número de radicado
      function generateTicketNumber() {
        const date = new Date();
        const year = date.getFullYear();
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');

        return `EF-${year}-${day}${month}${hours}${minutes}`;
      }

      // Validar formulario PQRS
      function validatePQRS(formData) {
        const errors = [];

        // Validar tipo
        if (!formData.tipo) {
          errors.push('Debe seleccionar un tipo de solicitud');
        }

        // Validar nombre
        if (!formData.nombre || formData.nombre.trim().length < 3) {
          errors.push('El nombre debe tener al menos 3 caracteres');
        }

        // Validar email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!formData.email || !emailRegex.test(formData.email)) {
          errors.push('Debe ingresar un correo electrónico válido');
        }

        // Validar teléfono
        const phoneRegex = /^[0-9\s\-\+\(\)]{7,}$/;
        if (!formData.telefono || !phoneRegex.test(formData.telefono)) {
          errors.push('Debe ingresar un teléfono válido');
        }

        // Validar ciudad
        if (!formData.ciudad || formData.ciudad.trim().length < 3) {
          errors.push('Debe ingresar una ciudad válida');
        }

        // Validar asunto
        if (!formData.asunto || formData.asunto.trim().length < 5) {
          errors.push('El asunto debe tener al menos 5 caracteres');
        }

        // Validar descripción
        if (!formData.descripcion || formData.descripcion.trim().length < 20) {
          errors.push('La descripción debe tener al menos 20 caracteres');
        }

        return errors;
      }

      // Enviar solicitud PQRS
      async function submitPQRS(event) {
        event.preventDefault();

        const form = document.getElementById('pqrsForm');

        // Obtener el valor del radio button seleccionado
        const tipoRadio = document.querySelector('input[name="tipo"]:checked');

        const formData = {
          tipo: tipoRadio ? tipoRadio.value : '',
          nombre: document.getElementById('pqrsNombre').value,
          email: document.getElementById('pqrsEmail').value,
          telefono: document.getElementById('pqrsTelefono').value,
          ciudad: document.getElementById('pqrsCiudad').value,
          asunto: document.getElementById('pqrsAsunto').value,
          descripcion: document.getElementById('pqrsDescripcion').value
        };

        // Validar formulario
        const errors = validatePQRS(formData);

        if (errors.length > 0) {
          alert('Por favor corrija los siguientes errores:\n\n' + errors.join('\n'));
          return;
        }

        // Generar número de radicado
        const numeroRadicado = generateTicketNumber();

        // Obtener fecha actual formateada
        const now = new Date();
        const fecha = now.toLocaleDateString('es-CO') + ' ' + now.toLocaleTimeString('es-CO');

        try {
          // Enviar email con EmailJS
          const templateParams = {
            radicado: numeroRadicado,
            fecha: fecha,
            tipo: formData.tipo,
            nombre: formData.nombre,
            email: formData.email,
            telefono: formData.telefono,
            ciudad: formData.ciudad,
            asunto: formData.asunto,
            descripcion: formData.descripcion,
            to_email: 'pqrs.escalerasferre@gmail.com'
          };

          await emailjs.send('service_o69d2dc', 'template_iy8lt48', templateParams);

          // Mostrar confirmación
          form.style.display = 'none';
          const confirmacion = document.getElementById('pqrsConfirmacion');
          const radicadoElement = document.getElementById('pqrsNumeroRadicado');

          if (radicadoElement) {
            radicadoElement.textContent = numeroRadicado;
          }

          if (confirmacion) {
            confirmacion.style.display = 'block';
          }

          console.log('✅ PQRS enviada exitosamente:', {
            radicado: numeroRadicado,
            tipo: formData.tipo,
            nombre: formData.nombre,
            email: formData.email
          });

        } catch (error) {
          console.error('❌ Error al enviar PQRS:', error);
          alert('Hubo un error al enviar su solicitud. Por favor intente nuevamente o contáctenos por WhatsApp.\n\nError: ' + error.text);
        }
      }

      // Inicializar event listener para el formulario PQRS
      document.addEventListener('DOMContentLoaded', function() {
        const pqrsForm = document.getElementById('pqrsForm');
        if (pqrsForm) {
          pqrsForm.addEventListener('submit', submitPQRS);
        }

        // Cerrar modal al hacer click fuera
        const pqrsModal = document.getElementById('pqrsModal');
        if (pqrsModal) {
          pqrsModal.addEventListener('click', function(e) {
            if (e.target === pqrsModal) {
              closePQRS();
            }
          });
        }
      });
    </script>

    <script>
      // ============================================
      // SISTEMA FAQ - BASE DE DATOS Y FUNCIONES
      // ============================================

      // Base de datos de preguntas frecuentes
      const faqDatabase = {
        basicas: [
          {
            q: "¿Cómo se describe una escalera?",
            a: "Conjunto de peldaños o escalones que enlazan dos planos a distinto nivel en una construcción o terreno, y que sirven para subir y bajar."
          },
          {
            q: "¿Qué tipos de escaleras manuales hay?",
            a: "Escalera simple de un tramo, escalera doble de tijera, escalera extensible, escalera transformable y escalera mixta con rótula."
          },
          {
            q: "¿Qué medidas de escaleras hay?",
            a: "1 huella – 1 contrahuella = 12 cm. Exteriores: 14-16 cm. Edificios públicos: 16-17 cm. En viviendas: 17-18 cm. En maquinaria: 10-25 cm. En escalas: >25 cm."
          },
          {
            q: "¿Cómo se llaman las piezas de una escalera?",
            a: "Escalón o peldaño (apoyo para los pies), huella (plano horizontal), contrahuella (plano vertical), escalón de arranque (primer peldaño de una escalera)."
          },
          {
            q: "¿Cómo debe ser la estructura de una escalera?",
            a: "Una escalera está conformada básicamente por una serie de escalones, los que se componen de una huella (parte horizontal donde se apoya el pie) y una contrahuella (parte vertical)."
          },
          {
            q: "¿Cuáles son los tipos de escaleras?",
            a: "Escalera de un tramo (sin giros), escalera con descansos (tramos separados), escalera cuadrada (tramos iguales por cuatro lados), escalera de ida y vuelta (tramos en sentidos opuestos)."
          },
          {
            q: "¿Cuántos tipos de escaleras existen y cuáles son?",
            a: "Existen tres tipos de escaleras según su forma: escaleras rectas, curvas y mixtas."
          },
          {
            q: "¿Qué son y para qué sirven las escaleras?",
            a: "Una escalera es una construcción diseñada para comunicar varios espacios situados a diferentes alturas. Está conformada por escalones (peldaños) y puede disponer de varios tramos separados por descansillos."
          },
          {
            q: "¿Qué es una escalera y para qué sirve?",
            a: "Construcción formada por una serie de planos horizontales a distintas alturas, que sirve para subir y bajar entre distintas plantas o niveles."
          },
          {
            q: "¿Qué son las escaleras en la arquitectura?",
            a: "Elemento constructivo conformado por escalones para comunicar espacios situados a diferentes alturas. Puede disponer de varios tramos separados por descansillos."
          },
          {
            q: "¿Qué son las escaleras y para qué sirven?",
            a: "La escalera manual es un aparato portátil que consiste en dos piezas paralelas o ligeramente convergentes unidas a intervalos por travesaños y que sirve para subir o bajar una persona de un nivel a otro."
          },
          {
            q: "¿Qué son escaleras en construcción civil?",
            a: "Escalera: construcción para comunicar espacios a diferentes alturas. Escalón: componentes de apoyo para los pies. Huella: plano horizontal. Contrahuella: plano vertical. Escalón de arranque: primer peldaño."
          },
          {
            q: "¿Qué tipos de escaleras?",
            a: "Pueden ser fijas, transportables o móviles. La transportable o 'de mano', elaborada con madera, cuerda o ambos materiales, se denomina escala."
          },
          {
            q: "¿Cuántos tipos de escaleras hay y cuáles son?",
            a: "Existen tres tipos de escaleras según su forma: escaleras rectas, curvas y mixtas."
          }
        ],
        tipos: [
          {
            q: "¿Qué significa escalera tipo 1A?",
            a: "Las de tipo IA son de uso industrial y suelen tener un peso máximo de 136 kilos y una altura que va entre los 90 cm a los 6 metros."
          },
          {
            q: "¿Qué es una escalera tipo III?",
            a: "Escalera de aluminio tipo III recomendada para trabajos de bajo impacto y uso doméstico. Modelo resistente con capacidad de carga de hasta 90 kg."
          },
          {
            q: "¿Cuántos tipos de escaleras hay en la industria?",
            a: "Los más frecuentes son la escala inclinada, escala vertical separada, escala vertical integrada, escala fija con jaula de protección o escala con punto de partida en alto."
          },
          {
            q: "¿Qué significa una escalera tipo I?",
            a: "Las de tipo I son de uso industrial y suelen tener un peso máximo de 113 kilos y una altura que va entre los 90 cm a los 6 metros."
          },
          {
            q: "¿Cuáles son los tipos de escaleras?",
            a: "Frontal (perpendicular a la fachada), adosada (paralelos a fachada), mixtas (combinación de varios tipos)."
          },
          {
            q: "¿Qué es una escalera tipo 1?",
            a: "Las escaleras tipo I son de uso industrial con peso máximo de 170 kilos y altura entre 90 cm a 6 metros."
          },
          {
            q: "¿Qué tipos de escaleras manuales hay?",
            a: "Escalera simple de un tramo, escalera doble de tijera, escalera extensible, escalera transformable, escalera mixta con rótula."
          },
          {
            q: "¿Cuántos tipos de escaleras hay en la industria?",
            a: "Escaleras de apoyo (fijas, extensibles manuales o mecánicas), escaleras de tijera, escaleras domésticas, plataformas de trabajo, escaleras telescópicas portátiles, articuladas y de fibra de vidrio."
          },
          {
            q: "¿Estas escaleras de tipo industrial pueden ser?",
            a: "Fijas, extensibles manuales o extensibles mecánicas. Se pueden usar tanto en el ámbito industrial como en el doméstico, fabricándose en múltiples alturas."
          },
          {
            q: "¿Cómo se llaman las escaleras de trabajo?",
            a: "Escaleras de tijera. Esta escalera es usada comúnmente en construcciones y sector industrial puesto que permite buena movilidad, puede ser ajustada a diferentes alturas y genera buena estabilidad."
          },
          {
            q: "¿Qué tipos de escaleras usan los constructores?",
            a: "Escaleras de apoyo, escaleras de tijera, escaleras domésticas o taburetes, plataformas de trabajo, escaleras telescópicas portátiles, escaleras articuladas, escaleras de fibra de vidrio."
          },
          {
            q: "¿Cómo se llaman las escaleras de aluminio?",
            a: "La escalera de aluminio multiposiciones, también conocida como escalera multifunción, tiene sistemas de bisagras articuladas bloqueables que permiten configurarla en distintas posiciones."
          }
        ],
        materiales: [
          {
            q: "¿Cuánto tiempo dura una escalera de fibra de vidrio?",
            a: "La vida útil de una escalera de fibra de vidrio tiende a ser más larga que la de aluminio, especialmente en entornos corrosivos o eléctricos. Con mantenimiento adecuado puede durar muchos años sin desgaste significativo."
          },
          {
            q: "¿Cuánto peso soporta una escalera de fibra de vidrio?",
            a: "Capacidad de carga: 136 kg (escaleras industriales tipo IA)."
          },
          {
            q: "¿Qué significan los colores en las escaleras de fibra de vidrio?",
            a: "La escalera gris es de aluminio (más común). Las verdes y naranjas son de fibra de vidrio, utilizadas por electricistas."
          },
          {
            q: "¿Qué es mejor escalera de acero o aluminio?",
            a: "Las escaleras de aluminio tienen peldaños muy seguros. Las de acero suelen tener peldaños redondos sin dentar, menos estabilidad. El aluminio no es magnético y no produce chispas."
          },
          {
            q: "¿Qué es más resistente fibra de vidrio o madera?",
            a: "La fibra de vidrio es mucho más resistente que la madera y tiene menos probabilidades de romperse; ideal para durabilidad extra prolongada."
          },
          {
            q: "¿Qué tanto resiste la fibra de vidrio?",
            a: "Es un material que no se corroe y es impermeable. Puede utilizarse en proyectos náuticos o expuestos a la intemperie. Al ser de origen mineral, es incombustible y no propaga el fuego."
          },
          {
            q: "¿Qué afecta la fibra de vidrio?",
            a: "El contacto puede irritar la piel y los ojos. Respirar vidrio fibroso puede irritar nariz y garganta. La exposición repetida puede causar hemorragia nasal."
          },
          {
            q: "¿Dónde se usa la fibra de vidrio?",
            a: "En cableado telefónico, internet, televisión por cable, aislamiento térmico y acústico, elaboración de tanques, recipientes industriales de almacenamiento, entre otros."
          },
          {
            q: "¿Qué es mejor una escalera de acero o de aluminio?",
            a: "Las escaleras de aluminio llevan peldaños muy seguros. El aluminio no es magnético y no produce chispas, reduciendo el riesgo de incendio."
          },
          {
            q: "¿Cuáles son las escaleras más seguras?",
            a: "Las escaleras telescópicas son perfectas para trabajos seguros en diferentes alturas. Son fuertes, ligeras y resistentes."
          }
        ],
        seguridad: [
          {
            q: "¿Cuáles son las escaleras más seguras?",
            a: "Las escaleras telescópicas son perfectas para trabajos seguros en diferentes alturas. Son fuertes, ligeras y resistentes."
          },
          {
            q: "¿Qué norma certifica las escaleras?",
            a: "La norma europea EN 131 establece criterios mínimos y máximos que las escaleras deben cumplir. La etiqueta 'EN 131' aparece solo si todos los requisitos se cumplen."
          },
          {
            q: "¿Quién puede certificar una escalera?",
            a: "La Asociación Nacional de Protección contra Incendios (NFPA) es una de las organizaciones más conocidas. Establece estándares para escaleras de mano, extensión y plataforma."
          },
          {
            q: "¿Cómo saber si una escalera está homologada?",
            a: "Las escaleras que cumplan todas las disposiciones de la norma pueden llevar el marcado EN 131, que garantiza su calidad y homologación."
          },
          {
            q: "¿Qué es la NTC 4145?",
            a: "Norma que establece las dimensiones mínimas y características generales que deben cumplir las escaleras principales en edificios y espacios urbanos y rurales."
          },
          {
            q: "¿Qué norma certifica las escaleras en Colombia?",
            a: "Resolución 1409 de 2012: establece el Reglamento de Seguridad para protección contra caídas en trabajo en alturas."
          },
          {
            q: "¿Qué debo inspeccionar en una escalera?",
            a: "Inspeccionar rieles, peldaños, ganchos, cuerdas y zapatas antideslizantes para verificar que no haya daños o defectos. Si los hay, no usar la escalera."
          },
          {
            q: "¿Qué son las escaleras homologadas?",
            a: "Las escaleras homologadas son aquellas que han sido evaluadas y certificadas por una organización acreditada, garantizando su calidad y seguridad."
          },
          {
            q: "¿Qué norma deben cumplir las escaleras?",
            a: "Las escaleras están reguladas por la norma europea EN 131. Escaleras de apoyo superiores a 3.000 mm deben equipar ensanchamiento de la base."
          },
          {
            q: "¿Quién puede certificar una escalera?",
            a: "La Asociación Nacional de Protección contra Incendios (NFPA) establece estándares y códigos para construcción y uso de escaleras."
          },
          {
            q: "¿Dónde certificar escaleras?",
            a: "La NFPA (Asociación Nacional de Protección contra Incendios) es una de las organizaciones de certificación más conocidas."
          },
          {
            q: "¿Qué norma certifica las escaleras en Colombia?",
            a: "Resolución 1409 de 2012: establece el Reglamento de Seguridad para protección contra caídas en trabajo en alturas."
          },
          {
            q: "¿Qué debo inspeccionar en una escalera?",
            a: "Inspeccionar rieles, peldaños, ganchos, cuerdas y zapatas antideslizantes para verificar que no haya daños o defectos antes de cada uso."
          },
          {
            q: "¿Cómo se debe sostener una escalera de tijera?",
            a: "La base debe quedar sólidamente asentada. En escaleras simples la parte superior se sujetará al paramento sobre el que se apoya si es necesario."
          },
          {
            q: "¿Cuáles son las normas de seguridad para las pasarelas?",
            a: "Mantener limpia y libre de obstáculos, no sobrecargar, no utilizar si está dañada, sujetarse a las barandillas, no correr por la pasarela."
          }
        ],
        extension: [
          {
            q: "¿Qué es una escalera de extensión?",
            a: "A diferencia de las escaleras de una longitud, las de extensión doble tienen longitud cerrada más corta. Son más fáciles de almacenar y transportar."
          },
          {
            q: "¿Cómo subir escalera de extensión?",
            a: "Alzar hasta la altura deseada y trancar ambos lados. Nunca pararse en los tres últimos peldaños. No recostar contra objeto movible. Sujetarse de los lados con ambas manos."
          },
          {
            q: "¿Cuánto mide una escalera extensible?",
            a: "Longitud plegada de 3,60 metros. Longitud extendida de 6,30 metros."
          },
          {
            q: "¿Qué se le inspecciona a una escalera de extensión?",
            a: "Inspeccionar rieles, peldaños, ganchos, cuerdas y zapatas antideslizantes para verificar que no haya daños o defectos antes de usar."
          },
          {
            q: "¿Cuándo se usa una escalera de extensión para obtener el ángulo adecuado?",
            a: "La parte superior debe superar en un metro la altura de la estructura de apoyo y debe estar inclinada en ángulo de 75 grados (1:4 - 1 pie fuera por cada 4 pies de altura)."
          },
          {
            q: "¿Cuántos peldaños de una escalera de extensión deben sobresalir?",
            a: "Debe haber como mínimo cuatro escalones libres por encima de la posición de los pies para ofrecer apoyo a las manos."
          },
          {
            q: "¿Cuánto mide la escalera de 24 peldaños?",
            a: "Longitud plegada de 3,60 metros. Longitud extendida de 6,30 metros."
          },
          {
            q: "¿Qué altura alcanza una escalera de 24 peldaños?",
            a: "Escalera de Aluminio de Extensión 24 Peldaños Tipo IA alcanza 6.40 metros con carga de 136 Kg."
          }
        ],
        tijera: [
          {
            q: "¿Qué es una escalera tipo tijera?",
            a: "Las escaleras de tijera tienen 2 rieles, generalmente uno solo con peldaños, pero pueden tener acceso doble. Con plataforma y bandejas facilitan la ubicación de herramientas."
          },
          {
            q: "¿Cuánto mide una escalera de tijera de 7 peldaños?",
            a: "Longitud de 2,10 metros."
          },
          {
            q: "¿Qué altura tiene una escalera de 10 peldaños?",
            a: "La escalera tijera de aluminio de 10 peldaños mide 3.05 metros, siendo la más popular en su ramo."
          },
          {
            q: "¿Cuánto mide una escalera de tijera de 9 peldaños?",
            a: "Altura 3 m, alcance máximo 4.30 m, apertura lateral 1.70 m, 9 peldaños, ancho de peldaños 7.60 cm, peso 10.65kg."
          },
          {
            q: "¿Cuánto mide una escalera de tijera de 8 peldaños?",
            a: "Escalera tijera fibra de vidrio 2.44 metros y 8 peldaños con capacidad de 102 Kg."
          },
          {
            q: "¿Cuánto mide una escalera de 13 peldaños?",
            a: "13 peldaños, peso 6.5 kg, dimensiones 350 x 6.5 x 39 cm, longitud de escalera 3.5 m."
          },
          {
            q: "¿Cuáles son las condiciones para utilizar una escalera tipo tijera?",
            a: "Mover la escalera cuando sea necesario. No moverse mientras esté parado sobre ella. No pararse, trepar o sentarse en la parte superior o estante del cubo."
          },
          {
            q: "¿Cuánto mide una escalera tijera de 12 pasos?",
            a: "Escalera Certificada Tipo Tijera 12 Pasos de 3,60 Metros en Aluminio Tipo I de 113 Kilogramos de Resistencia."
          },
          {
            q: "¿Cómo se llaman las partes de una escalera de tijera?",
            a: "Articulación (permite el plegado), largueros (soporte de peldaños), peldaños (apoyo de los pies), limitador de abertura (limita abertura máxima)."
          }
        ],
        medidas: [
          {
            q: "¿Cuál es el mejor ángulo para una escalera?",
            a: "La inclinación debe ser tal que la distancia del pie a la vertical esté entre el cuarto y el tercio de su longitud, correspondiendo una inclinación entre 75,5° y 70,5°."
          },
          {
            q: "¿Cuántos escalones lleva una escalera de 3 metros de altura?",
            a: "Tres metros (300 cm) dividido entre el tamaño de cada contrahuella (18 cm) = 16,6, redondeado al alza = 17 escalones."
          },
          {
            q: "¿Qué anchura mínima deben tener las escaleras?",
            a: "La anchura mínima de una escalera de uso normal es de 90 cm para no dificultar el movimiento de la persona."
          },
          {
            q: "¿Cuánto mide una escalera dieléctrica?",
            a: "Longitud plegada de 4,90 metros. Longitud extendida de 8,90 metros. Peso de 32,60 kilogramos."
          },
          {
            q: "¿Cuánto mide una escalera de tijera de 12 peldaños?",
            a: "Longitud plegada de 3,65 metros. Longitud extendida de 6,40 metros. Peso de 35,50 kilogramos."
          },
          {
            q: "¿Cuánto mide escalera de 8 peldaños?",
            a: "Longitud plegada de 2,40 metros. Longitud extendida de 3,90 metros."
          },
          {
            q: "¿Qué medidas de escaleras hay?",
            a: "1 huella – 1 contrahuella = 12 cm. Exteriores: 14-16 cm. Edificios públicos: 16-17 cm. En viviendas: 17-18 cm. En maquinaria: 10-25 cm."
          },
          {
            q: "¿Cuál es la distancia entre escalones de escalera?",
            a: "La distancia entre todos los peldaños debe ser igual, con distancia mínima de 20 cm y máxima de 30 cm. La profundidad debe tener al menos 20 milímetros."
          }
        ]
      };

      // Funciones del FAQ
      function toggleFAQ(button) {
        const faqItem = button.closest('.faq-item');
        const wasActive = faqItem.classList.contains('active');

        // Cerrar todas las FAQs
        document.querySelectorAll('.faq-item').forEach(item => {
          item.classList.remove('active');
        });

        // Abrir la seleccionada si no estaba activa
        if (!wasActive) {
          faqItem.classList.add('active');
        }
      }

      function scrollToFAQ() {
        const faqSection = document.getElementById('faq');
        if (faqSection) {
          const headerOffset = 120;
          const elementPosition = faqSection.offsetTop;
          const offsetPosition = elementPosition - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      }

      function openFAQSPA() {
        const faqSPA = document.getElementById('faqSPA');
        if (faqSPA) {
          faqSPA.classList.add('active');
          document.body.style.overflow = 'hidden';
          renderAllFAQs();
        }
      }

      function closeFAQSPA() {
        const faqSPA = document.getElementById('faqSPA');
        if (faqSPA) {
          faqSPA.classList.remove('active');
          document.body.style.overflow = 'auto';

          // Limpiar búsqueda y filtros
          document.getElementById('faqSearchInput').value = '';
          filterFAQs('todos');
        }
      }

      function closeFAQSPAAndGoHome() {
        closeFAQSPA();
        setTimeout(() => {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        }, 300);
      }

      function renderAllFAQs() {
        const container = document.getElementById('faqCategoriesContainer');
        if (!container) return;

        container.innerHTML = '';

        const categories = {
          'basicas': 'Básicas y Definiciones',
          'tipos': 'Tipos y Clasificaciones',
          'materiales': 'Materiales y Propiedades',
          'seguridad': 'Seguridad y Normativas',
          'extension': 'Escaleras de Extensión',
          'tijera': 'Escaleras de Tijera',
          'medidas': 'Medidas y Especificaciones'
        };

        for (const [catKey, catName] of Object.entries(categories)) {
          if (faqDatabase[catKey] && faqDatabase[catKey].length > 0) {
            const categorySection = document.createElement('div');
            categorySection.className = 'faq-category-section';
            categorySection.dataset.category = catKey;

            const categoryTitle = document.createElement('h3');
            categoryTitle.className = 'faq-category-title';
            categoryTitle.textContent = catName;
            categorySection.appendChild(categoryTitle);

            faqDatabase[catKey].forEach((faq, index) => {
              const faqItem = document.createElement('div');
              faqItem.className = 'faq-item';
              faqItem.dataset.category = catKey;
              faqItem.dataset.question = faq.q.toLowerCase();
              faqItem.dataset.answer = faq.a.toLowerCase();

              faqItem.innerHTML = `
                <button class="faq-question" onclick="toggleFAQ(this)">
                  <span class="faq-question-text">${faq.q}</span>
                  <i class="fas fa-chevron-down faq-icon"></i>
                </button>
                <div class="faq-answer">
                  <p class="faq-answer-text">${faq.a}</p>
                </div>
              `;

              categorySection.appendChild(faqItem);
            });

            container.appendChild(categorySection);
          }
        }
      }

      function filterFAQs(category) {
        // Actualizar botones activos
        document.querySelectorAll('.faq-filter-btn').forEach(btn => {
          btn.classList.remove('active');
        });

        const clickedButton = event.target;
        if (clickedButton) {
          clickedButton.classList.add('active');
        }

        // Limpiar búsqueda
        document.getElementById('faqSearchInput').value = '';

        // Mostrar/ocultar categorías
        const sections = document.querySelectorAll('.faq-category-section');
        const noResults = document.getElementById('faqNoResults');
        let visibleSections = 0;

        sections.forEach(section => {
          if (category === 'todos' || section.dataset.category === category) {
            section.style.display = 'block';
            visibleSections++;
          } else {
            section.style.display = 'none';
          }
        });

        if (visibleSections === 0) {
          noResults.style.display = 'block';
        } else {
          noResults.style.display = 'none';
        }
      }

      function searchFAQs() {
        const searchTerm = document.getElementById('faqSearchInput').value.toLowerCase();
        const faqItems = document.querySelectorAll('.faq-item');
        const sections = document.querySelectorAll('.faq-category-section');
        const noResults = document.getElementById('faqNoResults');
        let visibleCount = 0;

        if (searchTerm === '') {
          // Mostrar todo
          faqItems.forEach(item => item.style.display = 'block');
          sections.forEach(section => section.style.display = 'block');
          noResults.style.display = 'none';
          return;
        }

        faqItems.forEach(item => {
          const question = item.dataset.question || '';
          const answer = item.dataset.answer || '';

          if (question.includes(searchTerm) || answer.includes(searchTerm)) {
            item.style.display = 'block';
            visibleCount++;
          } else {
            item.style.display = 'none';
          }
        });

        // Mostrar/ocultar secciones según si tienen items visibles
        sections.forEach(section => {
          const visibleItems = section.querySelectorAll('.faq-item[style="display: block;"]');
          if (visibleItems.length > 0) {
            section.style.display = 'block';
          } else {
            section.style.display = 'none';
          }
        });

        if (visibleCount === 0) {
          noResults.style.display = 'block';
        } else {
          noResults.style.display = 'none';
        }
      }
    </script>

    <!-- Chatbot Container -->
    <div id="chatbot-container" class="chatbot-fixed">
      <div id="chatbot-toggle" class="chatbot-toggle">
        <i class="fas fa-comments"></i>
        <span class="chat-notification">¿Necesitas ayuda?</span>
      </div>

      <div id="chatbot-window" class="chatbot-window">
        <div class="chatbot-header">
          <div class="chatbot-title">
            <div class="chatbot-avatar">
              <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
            </div>
            <span>Escaleras Ferre</span>
          </div>
          <button id="chatbot-close" class="chatbot-close">×</button>
        </div>

        <div id="chatbot-messages" class="chatbot-messages">
          <div class="message bot-message">
            <div class="bot-message-avatar">
              <img src="https://i.imgur.com/Sf0Za4H.png" alt="Escaleras Ferre">
            </div>
            <div class="bot-message-content">
              ¡Hola! Soy Lia, tu asistente de Escaleras Ferre 😊 ¿En qué te
              puedo ayudar hoy?
            </div>
          </div>
        </div>

        <div class="chatbot-input-area">
          <input
            type="text"
            id="chatbot-input"
            placeholder="Escribe tu pregunta aquí..."
            maxlength="200"
          />
          <button id="chatbot-send" class="chatbot-send-btn">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>

        <div class="quick-questions">
          <div class="quick-question" data-question="precios">Ver precios</div>
          <div class="quick-question" data-question="catalogo">
            Ver catálogo
          </div>
          <div class="quick-question" data-question="alquiler">Alquiler</div>
          <div class="quick-question" data-question="contacto">Contacto</div>
        </div>
      </div>
    </div>

    <!-- Modal de Selección de Sede -->
    <div id="sedeModal" class="sede-modal-overlay">
      <div class="sede-modal">
        <div class="sede-modal-header">
          <h3>Selecciona tu Sede</h3>
          <p>¿Desde qué ciudad deseas contactarnos?</p>
        </div>
        <div class="sede-modal-buttons">
          <button
            class="sede-option-btn"
            onclick="selectSedeForContact('bogota')"
          >
            <i class="fab fa-whatsapp"></i>
            <span>Bogotá</span>
          </button>
          <button
            class="sede-option-btn"
            onclick="selectSedeForContact('bucaramanga')"
          >
            <i class="fab fa-whatsapp"></i>
            <span>Bucaramanga</span>
          </button>
        </div>
        <div class="sede-modal-close">
          <button onclick="closeSedeModal()">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- Modal PQRS -->
    <div id="pqrsModal" class="pqrs-modal-overlay">
      <div class="pqrs-modal">
        <div class="pqrs-modal-header">
          <h3><i class="fas fa-file-alt"></i> Sistema PQRS</h3>
          <p>Peticiones, Quejas, Reclamos y Sugerencias</p>
          <button class="pqrs-close-btn" onclick="closePQRS()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="pqrsForm" class="pqrs-form">
          <div class="pqrs-form-grid">
            <!-- Tipo de PQRS -->
            <div class="pqrs-form-group full-width">
              <label>
                <i class="fas fa-list"></i> Tipo de Solicitud *
              </label>
              <div class="pqrs-radio-group">
                <label class="pqrs-radio-label">
                  <input type="radio" name="tipo" value="Petición" required>
                  <span>Petición</span>
                </label>
                <label class="pqrs-radio-label">
                  <input type="radio" name="tipo" value="Queja" required>
                  <span>Queja</span>
                </label>
                <label class="pqrs-radio-label">
                  <input type="radio" name="tipo" value="Reclamo" required>
                  <span>Reclamo</span>
                </label>
                <label class="pqrs-radio-label">
                  <input type="radio" name="tipo" value="Sugerencia" required>
                  <span>Sugerencia</span>
                </label>
              </div>
            </div>

            <!-- Nombre -->
            <div class="pqrs-form-group">
              <label for="pqrsNombre">
                <i class="fas fa-user"></i> Nombre Completo *
              </label>
              <input
                type="text"
                id="pqrsNombre"
                name="nombre"
                placeholder="Ingrese su nombre completo"
                required
              >
            </div>

            <!-- Email -->
            <div class="pqrs-form-group">
              <label for="pqrsEmail">
                <i class="fas fa-envelope"></i> Correo Electrónico *
              </label>
              <input
                type="email"
                id="pqrsEmail"
                name="email"
                placeholder="ejemplo@correo.com"
                required
              >
            </div>

            <!-- Teléfono -->
            <div class="pqrs-form-group">
              <label for="pqrsTelefono">
                <i class="fas fa-phone"></i> Teléfono *
              </label>
              <input
                type="tel"
                id="pqrsTelefono"
                name="telefono"
                placeholder="300 123 4567"
                required
              >
            </div>

            <!-- Ciudad -->
            <div class="pqrs-form-group">
              <label for="pqrsCiudad">
                <i class="fas fa-map-marker-alt"></i> Ciudad *
              </label>
              <select id="pqrsCiudad" name="ciudad" required>
                <option value="">Seleccione una ciudad</option>
                <option value="Bogotá">Bogotá</option>
                <option value="Bucaramanga">Bucaramanga</option>
                <option value="Otra">Otra</option>
              </select>
            </div>

            <!-- Asunto -->
            <div class="pqrs-form-group full-width">
              <label for="pqrsAsunto">
                <i class="fas fa-heading"></i> Asunto *
              </label>
              <input
                type="text"
                id="pqrsAsunto"
                name="asunto"
                placeholder="Resumen breve del tema"
                required
              >
            </div>

            <!-- Descripción -->
            <div class="pqrs-form-group full-width">
              <label for="pqrsDescripcion">
                <i class="fas fa-align-left"></i> Descripción Detallada *
              </label>
              <textarea
                id="pqrsDescripcion"
                name="descripcion"
                rows="5"
                placeholder="Describa detalladamente su solicitud..."
                required
              ></textarea>
            </div>
          </div>

          <!-- Botones -->
          <div class="pqrs-form-actions">
            <button type="button" class="pqrs-btn-secondary" onclick="closePQRS()">
              Cancelar
            </button>
            <button type="submit" class="pqrs-btn-primary">
              <i class="fas fa-paper-plane"></i> Enviar Solicitud
            </button>
          </div>
        </form>

        <!-- Mensaje de confirmación -->
        <div id="pqrsConfirmacion" class="pqrs-confirmacion" style="display: none;">
          <div class="pqrs-success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h4>¡Solicitud Enviada Exitosamente!</h4>
          <p>Su solicitud ha sido registrada con el siguiente número de radicado:</p>
          <div class="pqrs-radicado">
            <strong id="pqrsNumeroRadicado"></strong>
          </div>
          <p class="pqrs-info-text">
            <strong>¿Necesita hacer seguimiento?</strong><br>
            Puede usar este radicado en nuestro <strong>chatbot</strong> 💬<br>
            Simplemente escriba su número de radicado y seremos redirigidos a WhatsApp con su solicitud.<br><br>
            Nuestro equipo le dará respuesta en un plazo máximo de 15 días hábiles.
          </p>
        </div>
      </div>
    </div>

    <!-- FAQ SPA -->
    <div id="faqSPA" class="faq-spa">
      <div class="faq-spa-header">
        <div class="faq-spa-header-content">
          <h2 class="faq-spa-title">
            <i class="fas fa-question-circle"></i>
            Preguntas Frecuentes - Escaleras Ferre
          </h2>
          <div class="faq-spa-controls">
            <button class="faq-home-btn" onclick="closeFAQSPAAndGoHome()">
              <i class="fas fa-home"></i>
              Volver al Inicio
            </button>
            <button class="faq-close" onclick="closeFAQSPA()">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="faq-spa-content">
        <!-- Buscador -->
        <div class="faq-search-container">
          <input
            type="text"
            id="faqSearchInput"
            class="faq-search-box"
            placeholder="🔍 Busca tu pregunta aquí..."
            onkeyup="searchFAQs()"
          />
        </div>

        <!-- Filtros -->
        <div class="faq-filters">
          <button class="faq-filter-btn active" onclick="filterFAQs('todos')">Todos</button>
          <button class="faq-filter-btn" onclick="filterFAQs('basicas')">Básicas</button>
          <button class="faq-filter-btn" onclick="filterFAQs('tipos')">Tipos</button>
          <button class="faq-filter-btn" onclick="filterFAQs('materiales')">Materiales</button>
          <button class="faq-filter-btn" onclick="filterFAQs('seguridad')">Seguridad</button>
          <button class="faq-filter-btn" onclick="filterFAQs('extension')">Extensión</button>
          <button class="faq-filter-btn" onclick="filterFAQs('tijera')">Tijera</button>
          <button class="faq-filter-btn" onclick="filterFAQs('medidas')">Medidas</button>
        </div>

        <!-- Contenedor de FAQs -->
        <div id="faqCategoriesContainer">
          <!-- Las preguntas se generarán dinámicamente con JavaScript -->
        </div>

        <!-- Mensaje sin resultados -->
        <div id="faqNoResults" class="faq-no-results" style="display: none;">
          <i class="fas fa-search"></i>
          <h3>No se encontraron preguntas</h3>
          <p>Intenta con otras palabras clave o selecciona una categoría diferente</p>
        </div>
      </div>
    </div>

  </body>
</html>
